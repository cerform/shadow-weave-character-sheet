
// Расширенная версия списка предысторий D&D 5e

// Константы для источников
export const SOURCES = {
  PHB: 'PHB', // Player's Handbook (Книга игрока)
  SCAG: 'SCAG', // Sword Coast Adventurer's Guide
  XGTE: 'XGTE', // Xanathar's Guide to Everything
  TCOE: 'TCOE', // Tasha's Cauldron of Everything
};

// Расширенный список предысторий
export const backgrounds = [
  {
    name: "Артист",
    description: "Вы выросли в окружении искусства — музыки, актерского мастерства, литературы или чего-то ещё — и вдохновляете других своими выступлениями.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["Акробатика", "Выступление"],
      tools: "Набор для маскировки, один музыкальный инструмент на выбор",
      languages: [],
      equipment: "Один музыкальный инструмент, любовное письмо, костюм, мешочек с 15 зм"
    },
    feature: {
      name: "Известность",
      description: "Вы всегда можете найти место для выступления, где вас примут. Обычно это обеспечивает скромный образ жизни."
    },
    personalityTraits: [
      "Я знаю историю из своего опыта, применимую к почти любой ситуации.",
      "Когда я вхожу в комнату, я всегда замечаю, кто главная сила. Как будто я инстинктивно знаю, кому льстить.",
      "Я всегда совершенствую свою работу и никогда не бываю доволен тем, что создаю.",
      "Я хочу, чтобы все обращали на меня внимание. Я обожаю, когда на меня смотрят."
    ],
    ideals: [
      "Красота. Когда я выступаю, я делаю мир лучше, чем он был. (Добрый)",
      "Честность. Искусство должно отражать душу; оно должно идти из глубины и показывать то, что внутри. (Законный)",
      "Традиция. Техники и истории, переданные мне моими учителями, бесценны, и их знание не должно быть потеряно. (Законный)",
      "Креативность. Мир нуждается в новых идеях и дерзких действиях. (Хаотичный)"
    ],
    bonds: [
      "Я буду делать всё что угодно, чтобы доказать своё превосходство над своим ненавистным соперником.",
      "Мне должны деньги большие и влиятельные люди, которые переносили моё искусство.",
      "Я пойду куда угодно ради моего старого учителя, который открыл мне истинное значение моих талантов.",
      "Я работаю, чтобы сохранить великий исторический эпос своего народа."
    ],
    flaws: [
      "Я не перед чем не остановлюсь, чтобы выиграть славу и известность.",
      "Я отчаянно романтик и легко увлекаюсь.",
      "Скандал не даёт мне работать в некоторых регионах. Для тех, кто распознает меня, я всегда отрицаю свою причастность и обвиняю других.",
      "У меня проблемы, когда я слышу критику, даже конструктивную."
    ],
    suggestedCharacteristics: "Артисты — самые общительные из всех людей, и к ним постоянно обращаются почитатели везде, где они идут. Они очаровывают своей умелой игрой на публике, и так же часто оказываются центром внимания и в других обстоятельствах."
  },
  {
    name: "Беспризорник",
    description: "Вы выросли на улицах, среди бедности и насилия. Вы научились защищать себя от опасностей и знаете город как свои пять пальцев.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["Ловкость рук", "Скрытность"],
      tools: "Воровские инструменты, набор для маскировки",
      languages: [],
      equipment: "Маленький нож, карта города, в котором вы росли, крысиный талисман, комплект обычной одежды, мешочек с 10 зм"
    },
    feature: {
      name: "Городские секреты",
      description: "Вы знаете секретные проходы и укрытия в городских поселениях. Когда вы не в бою, вы и ваши спутники можете перемещаться между локациями в городе в два раза быстрее, чем обычно."
    },
    personalityTraits: [
      "Я всегда готов к худшему.",
      "Я никогда не доверяю полностью. И вам бы не советовал.",
      "Я прячу небольшие безделушки в карманах, когда никто не видит.",
      "Я всегда слушаю, и мало говорю."
    ],
    ideals: [
      "Люди. Я помогаю людям, что помогают мне. (Нейтральный)",
      "Стойкость. Нельзя позволить несчастьям прошлого мешать мне в будущем. (Любой)",
      "Перемены. Сильные забирают у слабых, но я буду делать так, чтобы поменялись местами, кто сильный, а кто слабый. (Хаотичный)",
      "Месть. Богатые должны заплатить за их беспощадность к нам. (Злой)"
    ],
    bonds: [
      "Я спрятал кое-что ценное в руинах своего родного города.",
      "Я должен защищать тех, кто не может защититься сам.",
      "Я сделаю что угодно для других членов моей уличной банды.",
      "Кое-кто, кто заботился обо мне на улицах, теперь чахнет из-за болезни."
    ],
    flaws: [
      "Если есть план, я его обязательно забуду. Если его нет, я возможно что-нибудь и придумаю.",
      "Я покажу ошеломительную храбрость, когда буду сталкиваться с настоящей опасностью.",
      "У меня непреодолимая тяга к воровству. Я не могу удержаться, чтобы не взять блестящую вещь.",
      "Я убегу с поля боя, если начну проигрывать."
    ],
    suggestedCharacteristics: "Беспризорник — грубый и возможно грязный, но он выжил в трудных условиях, и он знает, как получить то, что ему нужно."
  },
  {
    name: "Благородный",
    description: "Вы понимаете благосостояние, власть и привилегированность. У вас титул, а ваша семья владеет землёй и собирает налоги.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["История", "Убеждение"],
      tools: "Один набор игральных костей на выбор",
      languages: ["Один на выбор"],
      equipment: "Хорошая одежда, кольцо-печатка, грамота о родословной, кошель с 25 зм"
    },
    feature: {
      name: "Право на власть",
      description: "Благодаря вашему происхождению, люди склонны предполагать, что вы обладаете правом на власть. Вы легко получаете аудиенцию у местного дворянина, а жители относятся к вам с должным уважением."
    },
    personalityTraits: [
      "Моя красноречивая лесть заставляет всех, с кем я разговариваю, чувствовать себя необычайно важными.",
      "Простолюдины видят во мне представителя знати, и я никогда не буду позорить их ожидания.",
      "Я необычайно чопорен в своих обращениях.",
      "Я наслаждаюсь роскошью и всегда беру самое лучшее."
    ],
    ideals: [
      "Ответственность. Власть дарована вместе с ответственностью заботиться о людях. (Добрый)",
      "Честь. Я не должен позорить себя ложью и постыдными поступками. (Законный)",
      "Власть. Если я буду достаточно могущественным, никто никогда не будет мне указывать, что делать. (Злой)",
      "Независимость. Я должен доказать, что смогу справиться без благосостояния моей семьи. (Любой)"
    ],
    bonds: [
      "Я должен защищать своих родных, что зависят от меня.",
      "Любовь другого человека подняла меня из грязи. Ради него я стану великим человеком.",
      "Моя гордость отражает гордость моей семьи.",
      "Я должен публично доказать, что заслужил принятие в высшее общество."
    ],
    flaws: [
      "Я плохо скрываю своё превосходство от членов других сословий.",
      "Я слишком часто слышу скрытые оскорбления и угрозы в невинных словах и поступках.",
      "Я тайно верю, что все ниже меня, и я неполноценен только перед членами моей семьи.",
      "Я скрываю постыдный роман, который может уничтожить мою семью."
    ],
    suggestedCharacteristics: "Личность благородных формируют их происхождение и ответственность. Как члены высшего класса общества, они являются участниками социального контракта: в обмен на привилегии и комфорт рождения в благородной среде, они должны выполнять обязательства перед обществом, другой знатью и собственной семьёй."
  },
  {
    name: "Гильдейский ремесленник",
    description: "Вы — член ремесленной гильдии, умелый в определённой области и тесно связанный с другими ремесленниками. Вы хорошо знаете ремесло своей гильдии и имеете особые связи с ней.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["Проницательность", "Убеждение"],
      tools: "Один вид ремесленных инструментов",
      languages: ["Один на выбор"],
      equipment: "Набор ремесленных инструментов по профессии, рекомендательное письмо от гильдии, комплект дорожной одежды и поясной кошель с 15 зм"
    },
    feature: {
      name: "Членство в гильдии",
      description: "Как уважаемый член гильдии, вы можете рассчитывать на определённые преимущества. Члены гильдии поддержат вас едой, жильём и работой, если вы нуждаетесь в этом. Гильдия также часто оплачивает похороны членов."
    },
    personalityTraits: [
      "Я верю, что всё, что стоит делать, стоит делать тщательно.",
      "Я ворчун, который часто критикует работу других.",
      "Я полон жизни, всегда знаю последние слухи и сплетни.",
      "Я сам на себя работаю. Мои усилия должны заслуживать наибольшей оплаты."
    ],
    ideals: [
      "Мастерство. Я обязан своей гильдии создавать вещи превосходного качества. (Законный)",
      "Люди. Я предан членам моей гильдии, а не пустым идеалам. (Нейтральный)",
      "Креативность. То, что я создаю, должно быть оригинальным и инновационным, отражая на века мою личность. (Хаотичный)",
      "Жадность. Я занимаюсь этим делом ради денег и больше ни для чего. (Злой)"
    ],
    bonds: [
      "Я один из лучших мастеров своего дела, и мои товарищи никогда не превзойдут мою работу.",
      "Я создаю чудесные произведения для благородных, которые даже не знают моего имени.",
      "Однажды я вернусь в дом своего учителя и докажу, что превзошёл его в мастерстве.",
      "Я посвящу свою жизнь восстановлению древнего шедевра, который был утерян в пожаре много лет назад."
    ],
    flaws: [
      "Я на всё согласен, если мне заплатят достаточно, даже если эта работа не совсем честна.",
      "Я не так уж и хорош в своём ремесле, как хотел бы верить.",
      "Я осуждаю других, кто не придерживается правил гильдии так же строго, как я.",
      "Я не могу перестать хвастаться своим мастерством, как будто никто другой не может его сравниться."
    ],
    suggestedCharacteristics: "Ремесленники гильдий могут работать во всех сферах общества. Они могут быть наёмными ремесленниками в безопасных и комфортных условиях, или же независимыми профессионалами, которые сами находят и выполняют работу."
  },
  {
    name: "Мудрец",
    description: "Вы провели годы, обучаясь миру, его истории, магии и другим областям. Вы жили с книгами, среди университетов и библиотек, и обладаете глубокими знаниями во многих научных дисциплинах.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["История", "Магия"],
      tools: "",
      languages: ["Два на выбор"],
      equipment: "Дорожная одежда, книга знаний по вашей специальности, бутылка чернил, перо, маленький нож, письма от коллеги с вопросом, на который вы пока не можете ответить, набор обычной одежды и кошель с 10 зм"
    },
    feature: {
      name: "Исследователь",
      description: "Когда вы пытаетесь получить информацию по какому-то вопросу, вы знаете, где и от кого можно её получить, если эти знания доступны. Обычно это библиотека, скрипторий, университет, мудрец или другое образованное лицо."
    },
    personalityTraits: [
      "Я использую многосложные слова для того, чтобы звучать умнее.",
      "Я прочитал все книги в величайших библиотеках – или люблю врать, что сделал это.",
      "Я помогаю неопытным, но часто меня раздражает их неспособность сразу всё понять.",
      "Я испытываю огромное удовольствие от работы, которую люблю."
    ],
    ideals: [
      "Знание. Путь к силе и самосовершенствованию лежит через знание. (Нейтральный)",
      "Красота. То, что красиво, указывает нам на то, что лежит за пределами этого мира. (Добрый)",
      "Перемены. Постоянство — это иллюзия. Перемены — это закон вселенной. (Хаотичный)",
      "Власть. Знание — это путь к власти и господству. (Злой)"
    ],
    bonds: [
      "Я проведу жизнь, защищая храм, где служил.",
      "Я работаю над трактатом по космологии, который изменит представление людей о вселенной.",
      "Я искал знания и мудрость, чтобы почтить наставника, который открыл мой разум.",
      "Я проведу жизнь, ища ответ на философский вопрос."
    ],
    flaws: [
      "Я легко отвлекаюсь от приключений обещанием древних знаний.",
      "Люди, не доказавшие своего интеллекта, не стоят моего внимания.",
      "Я тайно верю, что всё, чему меня учили, ошибочно.",
      "Я охотно выслушаю каждый аргумент прежде, чем приму абсолютно логичное решение."
    ],
    suggestedCharacteristics: "Мудрецы ценят знания превыше всего. Они посвящают свою жизнь сбору информации, и многие служат советниками влиятельных личностей, оттачивая свои познания в замках, библиотеках и университетах."
  },
  {
    name: "Отшельник",
    description: "Вы провели большую часть своей жизни вдали от шума сообществ, в уединении монастыря, общины или в полном одиночестве. В своём уединении вы нашли покой, безмолвие и, возможно, ответы на важные вопросы.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["Медицина", "Религия"],
      tools: "Набор травника",
      languages: ["Один на выбор"],
      equipment: "Дорожная одежда, набор для странствий, зимнее одеяло, обычная одежда, набор травника и 5 зм"
    },
    feature: {
      name: "Открытие",
      description: "Период изоляции дал вам доступ к уникальному и мощному открытию. Природа этого откровения зависит от природы вашего уединения."
    },
    personalityTraits: [
      "Я точно формулирую всё, что говорю, никогда не вдаваясь в брань или жаргон.",
      "Мне очень интересно, что все чувствуют и думают.",
      "Я очень медленно делаю выводы, и часто теряюсь в повседневных разговорах.",
      "Я одержим своими целями, порой пренебрегая другими частями своей жизни."
    ],
    ideals: [
      "Жизнь. Живые существа растут и процветают естественным образом. (Нейтральный)",
      "Великое равновесие. Все вещи находятся в равновесии — вмешательство может только навредить. (Нейтральный)",
      "Уединение. Действия важнее, чем слова. (Любой)",
      "Познание себя. Если вы знаете себя, то нет ничего, чего бы вы не смогли узнать. (Любой)"
    ],
    bonds: [
      "Я всё ещё ищу просветления, которое я преследовал во время изоляции, и и продолжаю делать это через медитацию и молитву.",
      "Я вошёл в близкую связь с другим отшельником. Только вместе мы сможем раскрыть тайну.",
      "Я был изгнан за преступление, которого не совершал, и хотел бы доказать свою невиновность.",
      "Я ищу свою потерянную любовь, которую разлучили со мной много лет назад."
    ],
    flaws: [
      "Я был так долго изолирован, что мне тяжело поддерживать разговор.",
      "Я плохо знаю этикет и социальные ожидания.",
      "Я переполнен воспоминаниями об ужасном уединении и хочу, чтобы никто не испытал того же.",
      "Я слишком доверяю тем, кто разделяет мои идеалы."
    ],
    suggestedCharacteristics: "Некоторые отшельники предпочитают жить на обочине общества, не обращая внимания на его суету. Другие, такие как члены монашеских общин, существуют в маленьких группах, поддерживая минимальный контакт с внешним миром."
  },
  {
    name: "Моряк",
    description: "Вы провели свою юность на палубах кораблей, плавающих по глубоководным маршрутам вашего мира. Вы преодолевали шторма, обходили рифы, и боролись с морскими чудовищами.",
    source: SOURCES.PHB,
    proficiencies: {
      skills: ["Атлетика", "Восприятие"],
      tools: "Навигационные инструменты, средства передвижения (водные)",
      languages: [],
      equipment: "Дубинка, 15 метров верёвки, счастливый талисман, обычная одежда и поясной кошель с 10 зм"
    },
    feature: {
      name: "Ветер и волны",
      description: "Вы знаете о морских путешествиях и владеете базовыми знаниями о морской команде. Вы можете получить бесплатный проезд на корабле для себя и своих спутников, если откажетесь от оплаты, но не можете гарантировать, что судно поплывёт именно туда, куда вам нужно."
    },
    personalityTraits: [
      "У меня есть любимый морской рассказ на любую тему.",
      "Я не доверяю этикету высшего класса и предпочитаю быть грубым и прямым.",
      "Я всегда экономлю всё, что могу, так как никогда не знаешь, когда придёт бедственное время.",
      "Я очень суеверный и выполняю ритуалы и традиции, связанные с морем."
    ],
    ideals: [
      "Честь. Я не обману человека, который мне доверяет. (Законный)",
      "Власть. Если я достаточно силён, я могу взять то, что захочу. (Злой)",
      "Жизнь. Самое ценное — это жизнь, а не сокровища. (Добрый)",
      "Свобода. Море свободно, и я тоже. (Хаотичный)"
    ],
    bonds: [
      "Мой корабль — моя жизнь, и я не променяю его ни на что.",
      "У меня есть долг, который я должен заплатить капитану, который меня нанял из отчаяния.",
      "Я плаваю, чтобы посмотреть, что находится за следующим горизонтом.",
      "Капитан, который приютил меня, когда я был бездомным ребёнком, мой настоящий отец."
    ],
    flaws: [
      "Я слишком азартен и всегда рискую всем в споре.",
      "Я не могу устоять перед красивой женщиной.",
      "Когда-то я предал своего капитана, чтобы спасти свою шкуру, и так и не простил себя за это.",
      "Если есть план, я, скорее всего, забуду его. Если его нет — я, возможно, придумаю что-нибудь."
    ],
    suggestedCharacteristics: "Моряки могут быть грубыми и неотёсанными, с дико звучащими акцентами, но они также могут быть пунктуальными и дисциплинированными из-за жизни на корабле, где всё должно быть сделано вовремя и в правильном порядке."
  }
];

// Функции для доступа к данным
export function getAllBackgrounds() {
  return backgrounds;
}

export function getBackgroundByName(name: string) {
  return backgrounds.find(bg => bg.name === name) || null;
}

// Получение источников
export function getAllBackgroundSources() {
  return Object.values(SOURCES);
}

// Фильтрация предысторий по источнику
export function getBackgroundsBySource(source: string) {
  return backgrounds.filter(bg => bg.source === source);
}

// Получение ключевых навыков для всех предысторий
export function getAllSkillsFromBackgrounds() {
  const skillsSet = new Set<string>();
  
  backgrounds.forEach(bg => {
    if (bg.proficiencies && bg.proficiencies.skills) {
      bg.proficiencies.skills.forEach(skill => skillsSet.add(skill));
    }
  });
  
  return Array.from(skillsSet);
}
