
export interface Feat {
  name: string;
  description: string;
  prerequisites?: string[];
  benefits?: string[];
  source?: string;
}

export const feats: Feat[] = [
  {
    name: "Внимательный",
    description: "Вы натренировали себя замечать детали в окружении. Вы получаете следующие преимущества: увеличение Мудрости на 1 и владение навыком Восприятие. Если у вас уже есть это владение, вы получаете преимущество на проверки Восприятия.",
    benefits: [
      "Увеличение Мудрости на 1.",
      "Владение навыком Восприятие. Если у вас уже есть это владение, вы получаете преимущество на проверки Восприятия."
    ]
  },
  {
    name: "Актёр",
    description: "Опытный в подражании, вы можете притвориться другим человеком. Вы получаете увеличение Харизмы на 1 и преимущество на проверки Обмана и Выступления для изображения другого человека.",
    benefits: [
      "Увеличение Харизмы на 1.",
      "Преимущество на проверки Обмана и Выступления для изображения другого человека."
    ]
  },
  {
    name: "Мастер алхимии",
    description: "Вы изучили секреты алхимии и создания зелий. Вы получаете владение инструментами алхимика и можете создавать простые алхимические предметы.",
    benefits: [
      "Владение инструментами алхимика.",
      "Можете создавать алхимические предметы во время короткого отдыха."
    ]
  },
  {
    name: "Атлет",
    description: "Вы прошли тщательную физическую подготовку. Вы получаете увеличение Силы или Ловкости на 1, можете совершать длинные прыжки с разбега всего 5 футов вместо 10 футов и подниматься на своей обычной скорости вместо половины скорости.",
    benefits: [
      "Увеличение Силы или Ловкости на 1.",
      "Можете совершать длинные прыжки с разбега всего 5 футов вместо 10 футов.",
      "Подниматься на своей обычной скорости вместо половины скорости."
    ]
  },
  {
    name: "Мастер боевых искусств",
    description: "Ваше боевое обучение позволяет вам выполнять особые боевые приёмы. Вы получаете увеличение Силы или Ловкости на 1, владение одним боевым стилем на выбор и можете использовать бонусное действие для атаки невооружённым ударом после действия Атаки.",
    benefits: [
      "Увеличение Силы или Ловкости на 1.",
      "Владение одним боевым стилем на выбор.",
      "Можете использовать бонусное действие для атаки невооружённым ударом после действия Атаки."
    ]
  },
  {
    name: "Заклинатель",
    description: "Вы изучили основы магии. Выберите класс: бард, жрец, друид, чародей, колдун или волшебник. Вы узнаёте два заговора по вашему выбору из списка заклинаний этого класса и одно заклинание 1-го уровня, которое можете использовать один раз между отдыхами.",
    benefits: [
      "Узнаёте два заговора из выбранного класса.",
      "Получаете заклинание 1-го уровня, которое можете использовать один раз между отдыхами."
    ]
  },
  {
    name: "Защитник",
    description: "Вы освоили технику защиты союзников в бою. Если существо, которое вы можете видеть, атакует цель, отличную от вас, и находящуюся в пределах 5 футов от вас, вы можете реакцией наложить помеху на этот бросок атаки.",
    benefits: [
      "Можете накладывать помеху на атаки по союзникам в пределах 5 футов от вас.",
      "Когда атакующий, на атаку которого вы наложили помеху, попадает по цели, он получает урон, равный вашему бонусу мастерства."
    ]
  },
  {
    name: "Мастер древкового оружия",
    description: "Вы освоили искусство боя древковым оружием. Когда вы достаёте древковое оружие, существа в пределах вашего досягаемости провоцируют атаки возможности.",
    benefits: [
      "Существа в пределах вашего досягаемости провоцируют атаки возможности, когда вы достаёте древковое оружие.",
      "Когда вы совершаете атаку возможности древковым оружием, вы можете совершить две атаки вместо одной."
    ]
  },
  {
    name: "Мастер щита",
    description: "Вы используете щиты не только для защиты, но и для атаки. Вы получаете увеличение Силы или Телосложения на 1, и можете использовать бонусное действие для толчка щитом в ближний бой.",
    benefits: [
      "Увеличение Силы или Телосложения на 1.",
      "Можете использовать бонусное действие для толчка щитом в ближний бой."
    ]
  },
  {
    name: "Меткий стрелок",
    description: "Вы владеете дальнобойным оружием и можете совершать выстрелы, которые другие сочли бы невозможными. Вы не получаете помеху на дальнобойные атаки из-за того, что цель находится на большом расстоянии, и можете игнорировать укрытие (кроме полного).",
    benefits: [
      "Не получаете помеху на дальнобойные атаки из-за большого расстояния.",
      "Игнорируете укрытие (кроме полного) при дальнобойных атаках."
    ]
  },
  {
    name: "Везунчик",
    description: "Вы необычайно удачливы. Когда вы совершаете проверку характеристики, спасбросок или бросок атаки и получаете на кубике 1, вы можете перебросить кубик и должны использовать новый результат.",
    benefits: [
      "Можете перебросить кубик при результате 1 на проверках характеристики, спасбросках или атаках.",
      "Если вы получаете 1 на броске инициативы, вы можете перебросить и использовать новый результат."
    ]
  },
  {
    name: "Магическая инициация",
    description: "Вы изучили основы магии. Выберите класс: бард, жрец, друид, чародей, колдун или волшебник. Вы узнаёте два заговора по вашему выбору из списка заклинаний этого класса.",
    benefits: [
      "Узнаёте два заговора из выбранного класса.",
      "Выучите одно заклинание 1-го уровня из списка этого же класса, которое можете накладывать один раз в день."
    ]
  },
  {
    name: "Стойкий",
    description: "Вы выносливее других. Вы получаете увеличение Телосложения на 1 и преимущество на спасброски Телосложения от эффектов, уменьшающих ваши хиты до 0 (но не убивающие вас сразу).",
    benefits: [
      "Увеличение Телосложения на 1.",
      "Преимущество на спасброски Телосложения от эффектов, уменьшающих ваши хиты до 0."
    ]
  },
  {
    name: "Целитель",
    description: "Вы — опытный лекарь. Вы можете использовать действие, чтобы стабилизировать существо с 0 хитами без совершения проверки Медицины, и вы можете использовать набор целителя, чтобы лечить раны.",
    benefits: [
      "Можете стабилизировать существо с 0 хитами без проверки Медицины.",
      "Вы можете использовать набор целителя, чтобы лечить раны, восстанавливая 1d6+4 хитов, плюс дополнительно хиты, равные максимальному количеству костей хитов цели."
    ]
  },
  {
    name: "Тяжеловооружённый",
    description: "Вы приучены носить тяжёлые доспехи. Вы получаете увеличение Силы на 1, владение тяжёлыми доспехами и не получаете помеху к проверкам Силы, Ловкости и Телосложения из-за тяжёлых доспехов.",
    prerequisites: ["Владение средними доспехами"],
    benefits: [
      "Увеличение Силы на 1.",
      "Владение тяжёлыми доспехами.",
      "Не получаете помеху к проверкам из-за тяжёлых доспехов."
    ]
  },
  {
    name: "Вдохновитель",
    description: "Вы можете вдохновлять других своими словами и поступками. Вы можете бонусным действием выбрать одно существо в пределах 60 футов, которое может вас видеть или слышать. Это существо получает кость вдохновения — d6.",
    benefits: [
      "Можете вдохновлять существ бонусным действием, давая им кость d6.",
      "Существо может добавить эту кость к любой проверке характеристики, атаке или спасброску."
    ]
  },
  {
    name: "Языковед",
    description: "Вы изучили языки и коды. Вы получаете увеличение Интеллекта на 1, выучили три языка на ваш выбор, и при встрече с новым письменным языком можете понять его общий смысл.",
    benefits: [
      "Увеличение Интеллекта на 1.",
      "Выучили три дополнительных языка.",
      "Можете понять общий смысл незнакомого письменного языка."
    ]
  },
  {
    name: "Наблюдатель",
    description: "Вы обращаете внимание на детали, недоступные для других. Вы не можете быть захвачены врасплох и получаете преимущество на проверки Внимательности и Расследования.",
    benefits: [
      "Не можете быть захвачены врасплох.",
      "Преимущество на проверки Внимательности и Расследования.",
      "Можете читать по губам, если видите говорящего и понимаете его язык."
    ]
  }
];

// Функция для поиска черт по имени
export const getFeatByName = (name: string): Feat | undefined => {
  return feats.find(feat => feat.name === name);
};

// Функция для получения всех доступных черт
export const getAllFeats = (): Feat[] => {
  return feats;
};

// Функция для фильтрации черт по предварительным условиям
export const getFeatsWithoutPrerequisites = (): Feat[] => {
  return feats.filter(feat => !feat.prerequisites || feat.prerequisites.length === 0);
};
