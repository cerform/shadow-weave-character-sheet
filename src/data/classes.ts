
// Расширенная версия списка классов D&D 5e

// Константы для источников
export const SOURCES = {
  PHB: 'PHB', // Player's Handbook (Книга игрока)
  XGTE: 'XGTE', // Xanathar's Guide to Everything
  TCOE: 'TCOE', // Tasha's Cauldron of Everything
  SCAG: 'SCAG', // Sword Coast Adventurer's Guide
};

// Расширенный список классов
export const classes = [
  {
    name: "Бард",
    description: "Барды - это вдохновляющие маги, чья сила отражает музыку создания. Чарующие звуками и заклинаниями, они воодушевляют союзников и наводят страх на врагов.",
    hitDie: "d8",
    primaryAbility: "Харизма",
    savingThrows: ["Ловкость", "Харизма"],
    proficiencies: "Лёгкие доспехи, простое оружие, рапиры, короткие мечи, три музыкальных инструмента на выбор",
    skillProficiencies: "Выберите любые три навыка",
    equipment: [
      "Рапира, или длинный меч, или любое простое оружие",
      "Набор дипломата или набор артиста",
      "Музыкальный инструмент",
      "Кожаный доспех и кинжал"
    ],
    features: [
      {
        name: "Использование заклинаний",
        description: "Вы можете читать заклинания барда, используя музыку и слова силы. Ваша основная характеристика для заклинаний - Харизма."
      },
      {
        name: "Бардовское вдохновение",
        description: "Как бонусное действие вы можете вдохновлять других, давая кость бардовского вдохновения (d6). Эту кость можно добавить к одной проверке характеристики, броску атаки или спасброску."
      },
      {
        name: "Мастер на все руки",
        description: "На 2 уровне вы можете добавлять половину бонуса мастерства, округлённую вниз, к любой проверке характеристик, куда бонус мастерства ещё не включён."
      },
      {
        name: "Песнь отдыха",
        description: "На 2 уровне вы можете во время короткого отдыха использовать успокаивающую музыку для того, чтобы помочь восстановиться вашим изнурённым союзникам."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Харизма",
    source: SOURCES.PHB
  },
  {
    name: "Жрец",
    description: "Жрецы - посланники богов в мире смертных. Наделённые божественной магией, они могут как исцелять раны, так и наносить удары своим врагам.",
    hitDie: "d8",
    primaryAbility: "Мудрость",
    savingThrows: ["Мудрость", "Харизма"],
    proficiencies: "Лёгкие и средние доспехи, щиты, простое оружие",
    skillProficiencies: "Выберите два навыка из следующих: История, Проницательность, Медицина, Убеждение и Религия",
    equipment: [
      "Булава или боевой молот (если владеете)",
      "Чешуйчатый доспех, кожаный доспех или кольчуга (если владеете)",
      "Лёгкий арбалет и 20 болтов или любое простое оружие",
      "Набор священника или набор путешественника",
      "Щит и священный символ"
    ],
    features: [
      {
        name: "Использование заклинаний",
        description: "Вы можете читать жреческие заклинания, используя веру и преданность своему божеству. Ваша основная характеристика для заклинаний - Мудрость."
      },
      {
        name: "Божественный канал",
        description: "Вы можете направлять божественную энергию от своего божества для создания различных эффектов."
      },
      {
        name: "Божественный домен",
        description: "Выберите божественный домен, связанный со своим божеством, например, Жизнь, Знание, Свет, Природа, Буря, Обман или Война."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Мудрость",
    source: SOURCES.PHB
  },
  {
    name: "Волшебник",
    description: "Волшебники - это верховные маги, черпающие свою силу из тщательного изучения магии и заклинательской традиции.",
    hitDie: "d6",
    primaryAbility: "Интеллект",
    savingThrows: ["Интеллект", "Мудрость"],
    proficiencies: "Кинжалы, дротики, пращи, посохи, арбалеты",
    skillProficiencies: "Выберите два навыка из следующих: Анализ, История, Проницательность, Расследование, Медицина и Религия",
    equipment: [
      "Посох или кинжал",
      "Мешочек с компонентами или магическая фокусировка",
      "Набор учёного или набор путешественника",
      "Книга заклинаний"
    ],
    features: [
      {
        name: "Использование заклинаний",
        description: "Вы можете читать заклинания, изученные из своей книги заклинаний. Ваша основная характеристика для заклинаний - Интеллект."
      },
      {
        name: "Магическое восстановление",
        description: "После короткого отдыха вы можете восстановить некоторые потраченные ячейки заклинаний."
      },
      {
        name: "Книга заклинаний",
        description: "В вашей книге заклинаний хранятся все известные вам заклинания волшебника."
      },
      {
        name: "Школа магии",
        description: "На 2 уровне вы можете выбрать школу магии, например, Преобразование, Вызов, Прорицание, Очарование, Ограждение, Воплощение, Иллюзию или Некромантию."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Интеллект",
    source: SOURCES.PHB
  },
  {
    name: "Воин",
    description: "Воины - мастера боевых искусств, владеющие разнообразным оружием и доспехами. Они специализируются на боевых приемах и тактических решениях.",
    hitDie: "d10",
    primaryAbility: "Сила или Ловкость",
    savingThrows: ["Сила", "Телосложение"],
    proficiencies: "Все доспехи, все щиты, все типы оружия, инструменты мореплавателя или инструменты одного ремесла",
    skillProficiencies: "Выберите два навыка из следующих: Акробатика, Анализ, Атлетика, История, Проницательность, Запугивание, Восприятие и Выживание",
    equipment: [
      "Кольчуга или кожаный доспех, длинный лук и 20 стрел",
      "Любое воинское оружие и щит, или два любых воинских оружия",
      "Лёгкий арбалет и 20 болтов или два ручных топора",
      "Набор путешественника или набор исследователя"
    ],
    features: [
      {
        name: "Боевой стиль",
        description: "Вы выбираете специализацию в определённом боевом стиле, получая соответствующий бонус."
      },
      {
        name: "Второе дыхание",
        description: "Вы можете восстановить часть хитов в бою, используя бонусное действие."
      },
      {
        name: "Всплеск действия",
        description: "Вы можете совершить одно дополнительное действие в свой ход."
      },
      {
        name: "Боевой архетип",
        description: "На 3 уровне вы выбираете архетип, который вы стремитесь имитировать в своих боевых стилях и техниках, например, Чемпион, Мастер боевых искусств или Рыцарь Эльдричского Ордена."
      }
    ],
    isMagicClass: false,
    source: SOURCES.PHB
  },
  {
    name: "Плут",
    description: "Плуты полагаются на умение, скрытность и уязвимые места врагов, чтобы получить преимущество в любой ситуации.",
    hitDie: "d8",
    primaryAbility: "Ловкость",
    savingThrows: ["Ловкость", "Интеллект"],
    proficiencies: "Лёгкие доспехи, простое оружие, ручные арбалеты, длинные мечи, рапиры, короткие мечи, воровские инструменты",
    skillProficiencies: "Выберите четыре навыка из следующих: Акробатика, Атлетика, Обман, Проницательность, Запугивание, Расследование, Внимательность, Выступление, Убеждение, Ловкость рук и Скрытность",
    equipment: [
      "Рапира или короткий меч",
      "Короткий лук и колчан с 20 стрелами или короткий меч",
      "Набор взломщика, набор исследователя или набор артиста",
      "Кожаный доспех, два кинжала и воровские инструменты"
    ],
    features: [
      {
        name: "Компетентность",
        description: "Вы можете выбрать два из ваших владений навыками и удвоить для них бонус мастерства."
      },
      {
        name: "Скрытая атака",
        description: "Вы знаете, как наносить точные удары туда, где цель наиболее уязвима. Один раз в ход вы можете добавить дополнительный урон цели, по которой попали атакой оружием, если имеете преимущество при броске атаки."
      },
      {
        name: "Хитрое действие",
        description: "Вы можете совершать бонусным действием Рывок, Отход или Засаду."
      },
      {
        name: "Плутовской архетип",
        description: "На 3 уровне вы выбираете архетип, который вы стараетесь имитировать во время выполнения своих плутовских приёмов: Вор, Убийца или Мистический ловкач."
      }
    ],
    isMagicClass: false,
    source: SOURCES.PHB
  },
  {
    name: "Варвар",
    description: "Варвары — это свирепые воины, которые используют свою животную ярость и инстинкты, чтобы победить своих врагов. Они полагаются на грубую силу и стойкость.",
    hitDie: "d12",
    primaryAbility: "Сила",
    savingThrows: ["Сила", "Телосложение"],
    proficiencies: "Лёгкие и средние доспехи, щиты, простое и воинское оружие",
    skillProficiencies: "Выберите два навыка из следующих: Анализ животных, Атлетика, Запугивание, Природа, Внимательность и Выживание",
    equipment: [
      "Двуручный топор или любое воинское рукопашное оружие",
      "Два ручных топора или любое простое оружие",
      "Набор исследователя и четыре метательных копья"
    ],
    features: [
      {
        name: "Ярость",
        description: "В бою вы сражаетесь с первобытной свирепостью. В свой ход вы можете войти в ярость бонусным действием. Находясь в ярости, вы получаете преимущество на проверки Силы и спасброски Силы, добавляете бонус урона к атакам оружием, использующим Силу, и получаете сопротивление к урону дробящим, колющим и рубящим."
      },
      {
        name: "Защита без доспехов",
        description: "Когда вы не носите доспехи, ваш КД равен 10 + модификатор Ловкости + модификатор Телосложения."
      },
      {
        name: "Бесстрашный натиск",
        description: "На 2 уровне вы получаете преимущество на инициативу, если видите врага в начале сражения и не захвачены врасплох."
      },
      {
        name: "Первобытный путь",
        description: "На 3 уровне вы выбираете путь, который формирует природу вашей ярости, например, Путь берсерка или Путь тотемного воина."
      }
    ],
    isMagicClass: false,
    source: SOURCES.PHB
  },
  {
    name: "Паладин",
    description: "Паладины — это святые воины, которые используют божественную силу для защиты других и борьбы со злом. Они сочетают боевое мастерство и божественную магию.",
    hitDie: "d10",
    primaryAbility: "Сила и Харизма",
    savingThrows: ["Мудрость", "Харизма"],
    proficiencies: "Все доспехи, щиты, простое и воинское оружие",
    skillProficiencies: "Выберите два навыка из следующих: Атлетика, Проницательность, Запугивание, Медицина, Убеждение и Религия",
    equipment: [
      "Воинское оружие и щит или два воинских оружия",
      "Пять метательных копий или любое простое рукопашное оружие",
      "Набор священника или набор путешественника",
      "Кольчуга и священный символ"
    ],
    features: [
      {
        name: "Божественное чувство",
        description: "Присутствие сильного зла регистрируется вашими чувствами, как неприятный запах, а мощное добро звенит, как небесная музыка в ваших ушах."
      },
      {
        name: "Возложение рук",
        description: "Ваше благословенное прикосновение может лечить раны. Вы можете восстановить количество хитов, равное вашему уровню паладина × 5."
      },
      {
        name: "Боевой стиль",
        description: "На 2 уровне вы выбираете специализацию в определённом боевом стиле, получая соответствующий бонус."
      },
      {
        name: "Использование заклинаний",
        description: "На 2 уровне вы можете читать паладинские заклинания, используя свою веру. Ваша основная характеристика для заклинаний - Харизма."
      },
      {
        name: "Священная клятва",
        description: "На 3 уровне вы даёте священную клятву, которая навсегда формирует вас как паладина, например, Клятва преданности, Клятва древних или Клятва мести."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Харизма",
    source: SOURCES.PHB
  },
  {
    name: "Колдун",
    description: "Колдуны получают магическую силу через сделку с потусторонним существом, таким как архифея, архидьявол или древний упырь. Колдун ищет знания, спрятанные в ткани мультивселенной.",
    hitDie: "d8",
    primaryAbility: "Харизма",
    savingThrows: ["Мудрость", "Харизма"],
    proficiencies: "Лёгкие доспехи, простое оружие",
    skillProficiencies: "Выберите два навыка из следующих: Магия, Обман, История, Запугивание, Расследование, Природа и Религия",
    equipment: [
      "Лёгкий арбалет и 20 болтов или любое простое оружие",
      "Мешочек с компонентами или магическая фокусировка",
      "Набор учёного или набор подземелья",
      "Кожаный доспех, любое простое оружие и два кинжала"
    ],
    features: [
      {
        name: "Потусторонний покровитель",
        description: "На 1 уровне вы заключаете сделку с потусторонним существом по вашему выбору: Архифея, Исчадие или Великий Древний."
      },
      {
        name: "Использование заклинаний",
        description: "Вы черпаете магию из своего покровителя. Ваша основная характеристика для заклинаний - Харизма."
      },
      {
        name: "Магия договора",
        description: "На 1 уровне вы получаете заклинания благодаря своему потустороннему исследованию и дарам покровителя."
      },
      {
        name: "Таинственное воззвание",
        description: "На 2 уровне вы приобретаете фрагменты запретных знаний, которые наделяют вас неизменной магической способностью."
      },
      {
        name: "Дар договора",
        description: "На 3 уровне ваш покровитель дарует вам подарок за вашу верную службу, например, Договор цепи, Договор клинка или Договор гримуара."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Харизма",
    source: SOURCES.PHB
  },
  {
    name: "Друид",
    description: "Друиды — это стражи природы, которые ценят баланс жизненных сил и циклическую природу всех вещей. Они охраняют дикие земли и связаны с природной магией.",
    hitDie: "d8",
    primaryAbility: "Мудрость",
    savingThrows: ["Интеллект", "Мудрость"],
    proficiencies: "Лёгкие и средние доспехи (не металлические), щиты (не металлические), дубинки, кинжалы, дротики, метательные копья, булавы, посохи, серпы, пращи, копья",
    skillProficiencies: "Выберите два навыка из следующих: Магия, Уход за животными, Проницательность, Медицина, Природа, Внимательность, Религия и Выживание",
    equipment: [
      "Деревянный щит или любое простое оружие",
      "Серп или любое простое рукопашное оружие",
      "Кожаный доспех, набор путешественника и фокусировка друида"
    ],
    features: [
      {
        name: "Язык друидов",
        description: "Вы знаете Друидический, тайный язык друидов. Вы можете разговаривать на нём и использовать его для оставления скрытых сообщений."
      },
      {
        name: "Использование заклинаний",
        description: "Вы можете читать друидические заклинания, используя магию природы. Ваша основная характеристика для заклинаний - Мудрость."
      },
      {
        name: "Дикий облик",
        description: "На 2 уровне вы можете использовать действие, чтобы магически превратиться в зверя, которого вы видели раньше."
      },
      {
        name: "Круг друидов",
        description: "На 2 уровне вы выбираете круг друидов, к которому вы присоединяетесь, например, Круг земли или Круг луны."
      }
    ],
    isMagicClass: true,
    spellcastingAbility: "Мудрость",
    source: SOURCES.PHB
  }
];

// Функции для доступа к данным
export function getAllClasses() {
  return classes;
}

export function getClassByName(name: string) {
  return classes.find(cls => cls.name === name) || null;
}

export function getMagicClasses() {
  return classes.filter(cls => cls.isMagicClass === true);
}

// Получение источников
export function getAllClassSources() {
  return Object.values(SOURCES);
}

// Фильтрация классов по источнику
export function getClassesBySource(source: string) {
  return classes.filter(cls => cls.source === source);
}
