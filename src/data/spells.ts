export interface Spell {
  name: string;
  level: number;
  classes: string[];
  school: string;
  description: string;
  castingTime?: string;
  range?: string;
  components?: string;
  duration?: string;
  higherLevels?: string;
}

export const spells: Spell[] = [
  {
    name: "Огненный Снаряд",
    level: 0,
    classes: ["Маг", "Чародей", "Колдун"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "120 футов", 
    components: "В, С",
    duration: "Мгновенная",
    description: "Вы бросаете сгусток огня в существо или предмет в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон огнём 1d10. Горючие предметы, по которым попадает это заклинание, воспламеняются, если они не несутся и не надеты. Урон этого заклинания увеличивается на 1d10, когда вы достигаете 5-го уровня (2d10), 11-го уровня (3d10) и 17-го уровня (4d10)."
  },
  {
    name: "Луч Холода",
    level: 0,
    classes: ["Маг", "Чародей"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, С",
    duration: "Мгновенная",
    description: "Холодный луч синего белого света устремляется к существу в пределах дистанции. Совершите дальнобойную атаку заклинанием по цели. При попадании цель получает урон холодом 1d8 и её скорость уменьшается на 10 футов до начала вашего следующего хода. Урон этого заклинания увеличивается на 1d8, когда вы достигаете 5-го уровня (2d8), 11-го уровня (3d8) и 17-го уровня (4d8)."
  },
  {
    name: "Свет",
    level: 0,
    classes: ["Клирик", "Маг", "Бард", "Друид"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "Касание", 
    components: "В, М (светлячок или фосфоресцирующий мох)",
    duration: "1 час",
    description: "Вы касаетесь одного предмета, не превышающего 10 футов в любом измерении. Пока заклинание активно, предмет испускает яркий свет в радиусе 20 футов и тусклый свет в пределах ещё 20 футов. Свет может быть любого цвета на ваш выбор. Полное покрытие предмета чем-нибудь непрозрачным блокирует свет. Заклинание оканчивается, если вы наложите его ещё раз или окончите его действием."
  },
  {
    name: "Починка",
    level: 0,
    classes: ["Бард", "Клирик", "Друид", "Маг"],
    school: "Трансмутация",
    castingTime: "1 минута",
    range: "Касание",
    components: "В, С, М (два магнита)",
    duration: "Мгновенная",
    description: "Это заклинание чинит один сломанный или порванный предмет, которого вы касаетесь, например, порванная цепь, две половинки сломанного ключа, порванный плащ, дырявый бурдюк с водой. Если повреждение не больше 1 фута в любом измерении, вы полностью чините предмет, и все следы повреждения пропадают. Это заклинание не может полностью восстановить магические предметы или конструктов, но может заделать в них повреждения."
  },
  {
    name: "Танцующие Огни",
    level: 0,
    classes: ["Бард", "Друид", "Маг"],
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "120 футов",
    components: "В, С, М (кусочек фосфора или гнилушка, или светлячок)",
    duration: "Концентрация, вплоть до 1 минуты",
    description: "Вы создаёте до четырёх огоньков размером с факел, делая их похожими на факелы, фонари или светящиеся сферы, парящие в воздухе на время действия заклинания. Вы также можете объединить четыре огонька в светящийся образ Среднего гуманоида. Каким бы ни была форма, каждый огонёк испускает тусклый свет в радиусе 10 футов. Бонусным действием вы можете переместить огоньки на 60 футов в новое место в пределах дистанции заклинания. Огонёк должен находится в пределах 20 футов от другого огонька, созданного этим заклинанием, и огоньки гаснут, если выйдут за пределы дистанции заклинания."
  },
  {
    name: "Шокирующее Прикосновение",
    level: 0,
    classes: ["Маг"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С",
    duration: "Мгновенная",
    description: "Из вашей руки вырывается электрический разряд, готовый поразить существо, которого вы попытаетесь коснуться. Совершите атаку заклинанием ближнего боя по цели. У вас есть преимущество к броску атаки, если цель носит доспех из металла. При попадании цель получает урон электричеством 1d8 и не может совершать реакции до начала своего следующего хода. Урон заклинания увеличивается на 1d8, когда вы достигаете 5-го уровня (2d8), 11-го уровня (3d8) и 17-го уровня (4d8)."
  },
  {
    name: "Кислотный Брызг",
    level: 0,
    classes: ["Маг", "Чародей"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, С",
    duration: "Мгновенная",
    description: "Вы кидаете колбу кислоты. Выберите одно существо в пределах дистанции или выберите двух существ, находящихся в пределах 5 футов друг от друга. Цель должна преуспеть в спасброске Ловкости, иначе она получит урон кислотой 1d6. Урон этого заклинания увеличивается на 1d6, когда вы достигаете 5-го уровня (2d6), 11-го уровня (3d6) и 17-го уровня (4d6)."
  },
  {
    name: "Рука Магнуса",
    level: 0,
    classes: ["Маг", "Чародей", "Колдун"],
    school: "Призывание",
    castingTime: "1 действие", 
    range: "30 футов",
    components: "В, С",
    duration: "1 минута",
    description: "Призрачная парящая рука появляется в указанной вами точке, выбранной в пределах дистанции. Рука существует, пока заклинание активно или пока вы не отпустите её действием. Рука исчезает, если оказывается более чем в 30 футах от вас или если вы повторно накладываете это заклинание. Вы можете действием управлять рукой, манипулировать предметами, открывать незапертые двери или контейнеры, убирать предметы в открытые контейнеры или вытаскивать их оттуда, или выливать содержимое флаконов. Рука не может атаковать, активировать магические предметы или переносить более 10 фунтов."
  },
  {
    name: "Сопротивление",
    level: 0,
    classes: ["Клирик", "Друид"],
    school: "Ограждение",
    castingTime: "1 действие",
    range: "Касание", 
    components: "В, С, М (миниатюрный плащ)",
    duration: "Концентрация, вплоть до 1 минуты",
    description: "Вы касаетесь одного согласного существа. Пока заклинание активно, цель может один раз бросить d4 и добавить выпавшее число к одному спасброску на свой выбор. Этот бросок можно сделать до или после броска спасброска. После этого заклинание заканчивается."
  },
  {
    name: "Ядовитое Облако",
    level: 0,
    classes: ["Друид", "Чародей", "Колдун"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "10 футов",
    components: "В, С",
    duration: "Мгновенная",
    description: "Вы простираете руку к существу, которое видите в пределах дистанции, и из вашей ладони вырывается облачко тошнотворного газа. Существо должно преуспеть в спасброске Телосложения, иначе получит урон ядом 1d12. Урон этого заклинания увеличивается на 1d12, когда вы достигаете 5-го уровня (2d12), 11-го уровня (3d12) и 17-го уровня (4d12)."
  },
  {
    name: "Щит",
    level: 1,
    classes: ["Маг", "Чародей"],
    school: "Ограждение",
    castingTime: "1 реакция, совершаемая, когда по вас попадает атака или вы становитесь целью заклинания магической ракеты",
    range: "На себя",
    components: "В, С",
    duration: "1 раунд",
    description: "Невидимый барьер магической силы появляется и защищает вас. До начала вашего следующего хода вы получаете бонус +5 к КД, включая вызвавшую заклинание атаку, и вы не получаете урон от магической ракеты."
  },
  {
    name: "Магическая Броня",
    level: 1,
    classes: ["Маг", "Чародей"],
    school: "Ограждение", 
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (кусочек выделанной кожи)",
    duration: "8 часов",
    description: "Вы касаетесь согласного существа, которое не носит доспех, и магическая сила окружает его, пока заклинание не окончится. Базовый КД цели становится равен 13 + её модификатор Ловкости. Заклинание оканчивается, если цель надевает доспех или если вы оканчиваете его действием."
  },
  {
    name: "Исцеляющее Прикосновение",
    level: 1,
    classes: ["Клирик", "Друид", "Паладин"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С", 
    duration: "Мгновенная",
    description: "Существо, которого вы касаетесь, восстанавливает количество хитов, равное 1d8 + ваш модификатор заклинательной способности. Это заклинание не оказывает никакого эффекта на нежить и конструктов.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 2-го уровня или выше, лечение увеличивается на 1d8 за каждый уровень ячейки выше перво��о."
  },
  {
    name: "Обнаружение Магии",
    level: 1,
    classes: ["Клирик", "Маг", "Друид"],
    school: "Прорицание",
    castingTime: "1 действие",
    range: "На себя", 
    components: "В, С",
    duration: "Концентрация, вплоть до 10 минут",
    description: "На время длительности вы чувствуете присутствие магии в пределах 30 футов от себя. Если вы чувствуете магию таким образом, вы можете действием увидеть слабую ауру вокруг видимого существа или объекта, несущего магию, а также узнать его школу магии, если она есть. Заклинание проникает сквозь большинство преград, но блокируется 1 футом камня, 1 дюймом обычного металла, тонким листом свинца или 3 футами дерева или земли."
  },
  {
    name: "Щит Веры",
    level: 1,
    classes: ["Клирик", "Паладин"],
    school: "Ограждение",
    castingTime: "1 бонусное действие", 
    range: "60 футов",
    components: "В, С, М (маленький пергамент со священным текстом)",
    duration: "Концентрация, вплоть до 10 минут",
    description: "Мерцающее поле появляется и окружает существо на ваш выбор в пределах дистанции, даруя ему бонус +2 к КД на время длительности."
  },
  {
    name: "Ведьмин Снаряд",
    level: 1,
    classes: ["Колдун"],
    school: "Воплощение",
    castingTime: "1 бонусное действие",
    range: "30 футов",
    components: "В, С, М (ветка с засохшей ягодой омелы)",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Сияющий снаряд из бледно-синего света летит к существу в пределах дистанции. Совершите дальнобойную атаку заклинанием по этой цели. При попадании цель получает урон силовым полем 1d6 + ваш модификатор заклинательной способности."
  },
  {
    name: "Очарование Лица",
    level: 1,
    classes: ["Бард", "Маг", "Чародей"],
    school: "Очарование",
    castingTime: "1 действие",
    range: "30 футов",
    components: "В, С",
    duration: "1 час",
    description: "Вы пытаетесь очаровать гуманоида, которого видите в пределах дистанции. Он должен совершить спасбросок Мудрости, с преимуществом, если вы или ваши спутники сражаетесь с ним. При провале он очарован вами до окончания действия заклинания или пока вы или ваши спутники не причините ему вред. Очарованное существо считает вас приятным знакомым. Когда заклинание оканчивается, существо знает, что вы очаровали его."
  },
  {
    name: "Зачарованное Оружие",
    level: 1,
    classes: ["Бард", "Паладин"],
    school: "Воплощение",
    castingTime: "1 бонусное действие",
    range: "Касание",
    components: "В, С",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Вы касаетесь оружия. Пока заклинание активно, оно считается магическим оружием с бонусом +1 к броскам атаки и урона."
  },
  {
    name: "Проклятие",
    level: 1,
    classes: ["Колдун"],
    school: "Некромантия",
    castingTime: "1 бонусное действие",
    range: "90 футов",
    components: "В, С",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Вы проклинаете существо, которое видите в пределах дистанции. До окончания действия заклинания вы причиняете дополнительный урон некротической энергией 1d6 каждый раз, когда попадаете по цели атакой. Также выберите одну характеристику, когда накладываете заклинание. Цель совершает с помехой проверки этой характеристики. Если цель умирает, пока проклята, вы можете использовать бонусное действие в свой ход, чтобы проклясть новое существо. Заклинание рассеять магию, наложенное на цель, оканчивает проклятие досрочно."
  },
  {
    name: "Невидимость",
    level: 2,
    classes: ["Бард", "Маг", "Чародей"],
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (ресница, погружённая в гуммиарабик)",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Существо, которого вы касаетесь, становится невидимым до окончания действия заклинания. Всё, что цель несёт или носит, становится невидимым, пока остаётся у неё. Действие заклинания для цели заканчивается, если она атакует или накладывает заклинание.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 3-го уровня или выше, вы можете сделать целью дополнительное существо за каждый уровень ячейки выше 2-го."
  },
  {
    name: "Паутина",
    level: 2,
    classes: ["Маг", "Чародей"],
    school: "Призывание",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, С, М (немного паутины)",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Вы создаёте толстую липкую паутину в точке на ваш выбор в пределах дистанции. Паутина заполняет куб с длиной ребра 20 футов на время действия заклинания. Паутина это труднопроходимая местность и слабо скрывает существ в ней. Если паутина не натянута между двумя массивными объектами или не опутывает твёрдые материалы, такие как стены или потолок, создаваемая паутина рушится, и заклинание оканчивается в конце вашего хода. Паутина, натянутая между двумя массивными объектами, ос��аётся на время длительности. Существо, начинающее ход в паутине или входящее в неё во время своего хода, должно преуспеть в спасброске Ловкости, иначе оно станет опутанным, пока остаётся в паутине или пока не вырвется. Существо, опутанное паутиной, может действием совершить проверку Силы против Сл вашего заклинания. В случае успеха оно перестаёт быть опутанным. Паутина воспламеняющаяся. Куб паутины, подвергшийся огню, сгорает за 1 раунд, причиняя урон огнём 2d4 всем существам, начинающим в огне ход."
  },
  {
    name: "Оглушающий Взрыв",
    level: 2,
    classes: ["Маг", "Чародей"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "На себя (10-футовый радиус)",
    components: "В",
    duration: "Мгновенная",
    description: "С громким хлопком болезненной интенсивности разносится звук. Все существа в 10-футовой сфере с центром на вас должны совершить спасбросок Телосложения. При провале существо получает урон звуком 3d8 и становится оглохшим до конца вашего следующего хода. При успехе существо получает половину урона и не становится оглохшим."
  },
  {
    name: "Тишина",
    level: 2,
    classes: ["Бард", "Друид", "Рейнджер"],
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "120 футов",
    components: "В, С",
    duration: "Концентрация, вплоть до 10 минут",
    description: "На время действия заклинания никакой звук не может возникнуть в сфере с радиусом 20 футов с центром на точку, выбранную в пределах дистанции, и никакой звук не может проникнуть в неё. Все существа и предметы, полностью находящиеся внутри сферы, невосприимчивы к урону звуком, и существа полностью оглохшие, пока полностью находятся в ней. Заклинания с вербальным компонентом нельзя накладывать внутри сферы."
  },
  {
    name: "Темная Завеса",
    level: 2,
    classes: ["Колдун", "Маг", "Чародей"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, М (шерсть летучей мыши и капля смолы или кусочек угля)",
    duration: "Концентрация, вплоть до 10 минут",
    description: "Магическая тьма распространяется от точки, выбранной вами в пределах дистанции, заполняя сферу с радиусом 15 футов на время длительности. Тьма огибает углы. Существо с тёмным зрением не может видеть сквозь эту тьму, и немагический свет не может осветить её. Если выбранная вами точка находится на предмете, который вы держите, или это предмет, который никто не несёт и не носит, тьма исходит из предмета и перемещается вместе с ним. Полное покрытие предмета чем-нибудь непрозрачным, например миской или шлемом, блокирует темноту. Если часть области заклинания перекрывает область света, созданную заклинанием 2-го уровня или ниже, заклинание, создавшее свет, рассеивается."
  },
  {
    name: "Зеркальное Отражение",
    level: 2,
    classes: ["Маг", "Чародей"],
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "На себя",
    components: "В, С",
    duration: "1 минута",
    description: "Три иллюзорных дубликата появляются в вашем пространстве. Пока заклинание активно, дубликаты перемещаются с вами и повторяют ваши действия, перемещаясь так, что невозможно определить, какое из изображений настоящее. Вы можете действием распустить иллюзорных дубликатов. Каждый раз, когда по вам попадает атака, бросьте d20, чтобы определить, попадает ли атака по одному из ваших дубликатов. Если у вас три дубликата, вам нужно выбросить 6 или выше, чтобы атака попала по дубликату. Если у вас два дубликата, вам нужно выбросить 8 или выше. Если у вас один дубликат, вам нужно выбросить 11 или выше. КД дубликата равен вашему КД. Если по дубликату попадает атака, дубликат уничтожается. Дубликата можно уничтожить только атакой, по нему попавшей. Он игнорирует весь урон и эффекты. Заклинание оканчивается, когда все три дубликата уничтожаются. Существо не может быть целью этого заклинания, если оно не может видеть, если на него полагаются другие чувства, кроме зрения, такие как слепое зрение, или если оно может различать иллюзии как ложные, как при истинном зрении."
  },
  {
    name: "Исцеляющий Дух",
    level: 2,
    classes: ["Друид", "Следопыт"],
    school: "Призывание",
    castingTime: "1 бонусное действие", 
    range: "60 футов",
    components: "В, С",
    duration: "Концентрация, вплоть до 1 минуты",
    description: "Вы призываете природный дух, который принимает форму призрачного зверя. Дух появляется в незанятом пространстве, которое вы можете видеть в пределах дистанции. Бесформенный дух использует блок статистики Исцеляющего духа, а не свойства формы, которую он принимает. В свой ход вы можете мысленно приказать духу переместиться на 30 футов. Вы также можете бонусным действием заставить дух восстановить 1d6 хитов всем существам на ваш выбор в пределах 30 футов от духа.",
    higherLevels: "При н��кладывании этого заклинания с использованием ячейки 3-го уровня или выше, количество восстанавливаемых хитов увеличивается на 1d6 за каждый уровень ячейки выше второго."
  },
  {
    name: "Огненный Шар",
    level: 3,
    classes: ["Маг", "Чародей", "Колдун"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "150 футов",
    components: "В, С, М (крошечный шарик из гуано летучей мыши и серы)",
    duration: "Мгновенная",
    description: "Из вашего пальца вырывается яркий луч, устремляющийся к выбранной вами точке, находящейся в пределах дистанции. Там луч расширяется в огненный взрыв с низким рёвом. Все существа в 20-футовой сфере с центром в выбранной точке должны совершить спасбросок Ловкости. Существо получает урон огнём 8d6 при провале или половину этого урона при успехе. Огонь распространяется за углы. Он поджигает горючие предметы, которые никто не несёт и не носит.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 4-го уровня или выше, урон увеличивается на 1d6 за каждый уровень ячейки выше 3-го."
  },
  {
    name: "Контрзаклинание",
    level: 3,
    classes: ["Маг", "Чародей", "Колдун"],
    school: "Ограждение",
    castingTime: "1 реакция, совершаемая, когда вы видите существо в пределах 60 футов от себя, накладывающее заклинание",
    range: "60 футов",
    components: "С",
    duration: "Мгновенная",
    description: "Вы пытаетесь прервать существо в процессе создания заклинания. Если существо накладывает заклинание 3-го уровня или ниже, его заклинание проваливается и не имеет эффекта. Если оно накладывает заклинание 4-го уровня или выше, совершите проверку характеристики, используя свою заклинательную характеристику. Сл равна 10 + уровень заклинания. При успехе заклинание существа проваливается и не имеет эффекта.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 4-го уровня или выше, прерываемое заклинание не имеет эффекта, если его уровень не превышает уровня использованной вами ячейки."
  },
  {
    name: "Разрушающий Луч",
    level: 3,
    classes: ["Клирик", "Паладин"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, С",
    duration: "Мгновенная",
    description: "Луч ослепительного света вылетает из вашей руки по прямой линии 5 футов шириной и 60 футов длиной. Все существа в этой линии должны совершить спасбросок Телосложения. При провале существо получ��ет урон излучением 6d8, а при успехе — половину этого урона. Нежить и исчадия совершают этот спасбросок с помехой."
  },
  {
    name: "Призрачная Стража",
    level: 3,
    classes: ["Клирик"],
    school: "Некромантия",
    castingTime: "1 действие",
    range: "На себя",
    components: "В, С, М (священная реликвия)",
    duration: "8 часов",
    description: "Призрачные стражи собираются вокруг вас. Они реют вокруг вас на расстоянии до 15 футов на протяжении времени длительности заклинания. Если вы добры или нейтральны, светящиеся формы выглядят как ангелоподобные, с крыльями и оружием. Если вы злой, они выглядят как полупрозрачные дьяволы. Пока заклинание активно, у вас КД не может быть ниже 15, как бы вы экипированы ни были. Кроме того, когда существо, видимое вами, оканчивает свой ход в пределах 10 футов от вас, вы можете заставить стражей нанести 3d8 урона излучением (если вы добры или нейтральны) или некротический урон (если вы злой). Существо должно преуспеть в спасброске Ловкости, чтобы получить лишь половину урона.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 4-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 3-го."
  },
  {
    name: "Оживление Мертвых",
    level: 3,
    classes: ["Клирик", "Некромант"],
    school: "Некромантия",
    castingTime: "1 минута", 
    range: "10 футов",
    components: "В, С, М (капля крови, кусочек плоти и щепотка костной пыли)",
    duration: "Мгновенная",
    description: "Это заклинание создаёт нежить, служащую вам. Выберите груду костей или труп гуманоида Среднего или Маленького размера в пределах дистанции. Ваше заклинание наполняет цель злобной неживой силой, превращая её в зомби или скелета (на ваш выбор). В каждом своём ходу вы можете бонусным действием мысленно приказать любой поднятой этим заклинанием нежити, находящейся в пределах 60 футов от вас, и она последует приказу наилучшим образом. Вы можете приказать нежити следовать за вами, охранять место или выполнить простую задачу. После получения приказа нежить продолжает его выполнять, пока не завершит его. Существо остаётся под вашим контролем 24 часа. После этого оно больше не подчиняется командам. Для продления контроля ещё на 24 часа вы должны прочитать это заклинание на существо до того, как текущий период контроля закончится. Такое повторное использование позволяет вам утвердить контроль над четырьмя существами, поднятыми этим заклинанием, а не создавать нового."
  },
  {
    name: "Магический Круг",
    level: 3,
    classes: ["Маг", "Клирик", "Чародей"],
    school: "Ограждение",
    castingTime: "1 минута",
    range: "10 футов", 
    components: "В, С, М (святая вода или порошок серебра и железа, расходуемые при накладывании, стоящие не менее 100 зм)",
    duration: "1 час",
    description: "Вы создаёте цилиндр энергии с радиусом 10 футов, высотой 20 футов с центром в точке на полу, видимой в пределах дистанции. Светящиеся руны появляются везде, где цилиндр пересекается с полом или другой поверхностью. Выберите один или несколько следующих типов существ: небожители, исчадия, маны, нежить или элементали. Круг воздействует на существ выбранного типа следующим образом: существа не могут входить в круг добровольно; если существо пытается использовать телепортацию или межпространственное перемещение для этого, оно должно сначала преуспеть в спасброске Харизмы; существа совершают с помехой броски атаки по целям в пределах цилиндра; цели в пределах цилиндра не могут быть очарованы, испуганы или одержимы существами. Если вы создаёте этот круг на десять и более минут, он не требует концентрации.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 4-го уровня или выше, увеличьте длительность на 1 час за каждый уровень ячейки выше 3-го."
  },
  {
    name: "Летучесть",
    level: 3,
    classes: ["Бард", "Маг", "Чародей"],
    school: "Трансмутация",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (гусиное перо)",
    duration: "Концентрация, вплоть до 10 минут",
    description: "Вы касаетесь согласного существа. Цель получает скорость полёта 60 футов на время длительности заклинания. Когда заклинание оканчивается, цель падает, если всё ещё находится в воздухе, если только она не может остановить падение.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 4-го уровня или выше, вы можете сделать целью дополнительное существо за каждый уровень ячейки выше 3-го."
  },
  {
    name: "Стена Огня",
    level: 4,
    classes: ["Маг", "Друид", "Чародей"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "120 футов",
    components: "В, С, М (небольшой кусочек фосфора)",
    duration: "Концентрация, вплоть до 1 минуты",
    description: "Вы создаёте огненную стену на твёрдой поверхности в пред��лах дистанции. Вы создаёте стену до 60 футов длиной, 20 футов высотой и 1 фут толщиной, или кольцевую стену до 20 футов радиусом, 20 футов высотой и 1 фут толщиной. Стена непрозрачна и существует на время действия заклинания. Когда стена появляется, все существа в её пространстве должны совершить спасбросок Ловкости. При провале существо получает урон огнём 5d8, или половину этого урона при успехе. Одна из сторон стены, выбранная вами при накладывании заклинания, причиняет урон огнём 5d8 всем существам, которые оканчивают свой ход в пределах 10 футов от этой стороны или внутри стены. Существо также получает этот урон, когда впервые за ход входит в стену или заканчивает там свой ход. Другая сторона стены не причиняет урона.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 5-го уровня или выше, урон увеличивается на 1d8 за каждый уровень ячейки выше 4-го."
  },
  {
    name: "Врата Края",
    level: 4,
    classes: ["Колдун", "Маг"],
    school: "Призывание",
    castingTime: "1 действие",
    range: "500 футов",
    components: "В, С, М (редкий халцедон стоимостью не менее 100 зм)",
    duration: "Концентрация, вплоть до 1 минуты",
    description: "Вы создаёте связанные телепортационные врата, которые остаются открытыми на время действия заклинания. Выберите две точки на земле, которые вы можете видеть, одну в пределах 10 футов от вас, а другую в пределах 500 футов от вас. Круглый портал с диаметром 10 футов открывается над каждой точкой. Если портал будет открываться там, где существо находится, заклинание не срабатывает, и накладывание тратится впустую. Порталы тёмные овалы, парящие в нескольких дюймах над землёй в выбранных вами точках. Тонкий туманный занавес висит поперёк между открытыми порталами, и первый портал даёт обзор пространства возле второго. В каждом своём ходу после накладывания этого заклинания вы можете войти в портал рядом с вами и выйти из второго портала, как если бы вы перемещались. Если вы проходите через портал, из которого вышли, заклинание оканчивается. Порталы имеют переднюю и заднюю стороны на каждом плане, где они появляются. Путешествие возможно только при входе спереди первого портала и выходе спереди второго."
  },
  {
    name: "Слово Силы: Оглушение",
    level: 5,
    classes: ["Бард", "Клирик", "Маг"],
    school: "Зачарование",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В",
    duration: "Мгновенная",
    description: "Вы произносите слово силы, которое может ошеломить существо, которое вы видите в пределах дистанции. Если у цели 150 хитов или меньше, она становится ошеломлённой. В противном случае это заклинание не оказывает никакого эффекта. Существо, ошеломлённое этим заклинанием, совершает спасбросок Телосложения в конце каждого своего хода. При успехе эффект для него заканчивается."
  },
  {
    name: "Столп Пламени",
    level: 5,
    classes: ["Клирик"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В, С, М (щепотка серы)",
    duration: "Мгновенная",
    description: "Столб божественного огня обрушивается с небес в указанную вами точку. Все существа в цилиндре радиусом 10 футов и высотой 40 футов с центром в точке, выбранной в пределах дистанции, должны совершить спасбросок Ловкости. Существа получают урон огнём 4d6 и урон излучением 4d6 при провале, или половину этого урона при успехе. Нежить и исчадия совершают этот спасбросок с помехой и получают дополнительный урон 5d6 излучением.",
    higherLevels: "Если вы накладываете это заклинание, используя ячейку 6-го уровня или выше, урон огнём и излучением (не дополнительный урон излучением) увеличиваются на 1d6 за каждый уровень ячейки выше 5-го."
  },
  {
    name: "Призыв Существа",
    level: 6,
    classes: ["Маг", "Друид", "Чародей"],
    school: "Призывание",
    castingTime: "1 минута",
    range: "90 футов",
    components: "В, С",
    duration: "Концентрация, вплоть до 1 часа",
    description: "Вы призываете потусторонее существо, которое появляется в незанятом месте, видимом вами в пределах дистанции заклинания. Существо исчезает, когда опускается до 0 хитов, или когда заклинание оканчивается. Существо дружественно по отношению к вам и вашим спутникам. Бросайте за существо инициативу, оно совершает свои ходы. Оно подчиняется устным командам (действие не требуется от вас). Если вы не отдаёте ему никаких команд, оно защищается от враждебных созданий, но не совершает никаких других действий. Мастер обладает статистикой существа."
  },
  {
    name: "Телепортация",
    level: 7,
    classes: ["Маг", "Чародей", "Бард"],
    school: "Призывание",
    castingTime: "1 действие",
    range: "10 футов",
    components: "В",
    duration: "Мгновенная",
    description: "Это заклинание мгновенно перемещает вас и до восьми согласных существ ��а ваш выбор, которых вы можете видеть в пределах дистанции, или один предмет, который вы можете видеть в пределах дистанции, в место назначения, выбранное вами. Если вы выбираете предмет, он должен полностью помещаться в куб с длиной ребра 10 футов, и он не может удерживаться или нестись несогласным существом. Место назначения, выбранное вами, должно быть известно вам, и оно должно находиться на том же плане существования, что и вы.",
    higherLevels: "Ваши знания о месте назначения определяют, насколько успешным будет перенос. Мастер бросает d100 и сверяется с таблицей."
  },
  {
    name: "Слово Силы: Смерть",
    level: 9,
    classes: ["Маг", "Клирик"],
    school: "Некромантия",
    castingTime: "1 действие",
    range: "60 футов",
    components: "В",
    duration: "Мгновенная",
    description: "Вы произносите слово силы, которое может принудить одно существо, которое вы видите в пределах дистанции, мгновенно умереть. Если у существа 100 хитов или меньше, оно умирает. В противном случае это заклинание не оказывает никакого эффекта."
  },
  {
    name: "Метеоритный Дождь",
    level: 9,
    classes: ["Маг"],
    school: "Воплощение",
    castingTime: "1 действие",
    range: "1 миля",
    components: "В, С",
    duration: "Мгновенная",
    description: "Пылающие сферы разрушения обрушиваются на землю в четырёх разных точках, видимых вами в пределах дистанции. Все существа в 40-футовой сфере с центром в каждой из выбранных точек должны совершить спасбросок Ловкости. Сферы распространяются за углы. Существо получает 20d6 урона огнём и 20d6 урона дробящим при провале, или половину этого урона при успехе. Существо, оказавшееся в зоне действия нескольких пылающих сфер, получает урон только один раз. Заклинание наносит урон предметам в области и воспламеняет горючие предметы, которые никто не несёт и не носит."
  }
];

// Карта классов D&D для маппинга с оригинальными названиями классов
export const CLASS_MAP = {
  "Волшебник": ["Маг"],
  "Чародей": ["Чародей"],
  "Жрец": ["Клирик"],
  "Друид": ["Друид"],
  "Бард": ["Бард"],
  "Паладин": ["Паладин"],
  "Следопыт": ["Рейнджер", "Следопыт"],
  "Чернокнижник": ["Колдун"],
  "Воин": [],
  "Плут": [],
  "Варвар": [],
  "Монах": []
};

// Функция для получения заклинаний доступных конкретному классу по его названию из приложения
export const getSpellsForClass = (characterClass: string): string[] => {
  if (!characterClass || !CLASS_MAP[characterClass]) {
    return [];
  }

  // Получаем список названий классов для поиска (например для Следопыта ищем и "Рейнджер" и "Следопыт")
  const classNames = CLASS_MAP[characterClass];
  
  // Возвращаем только названия заклинаний, доступные этому классу
  return spells
    .filter(spell => spell.classes.some(spellClass => classNames.includes(spellClass)))
    .map(spell => spell.name);
};

// Функция для получения детальной информации о заклинании по имени
export const getSpellDetails = (spellName: string): Spell | undefined => {
  return spells.find(spell => spell.name === spellName);
};

// Для обратной совместимости с существующим кодом
export const SPELLS = Object.fromEntries(
  Object.keys(CLASS_MAP).map(className => [
    className, 
    getSpellsForClass(className)
  ])
);

// Для обратной совместимости со старым форматом
export const SPELL_DETAILS = Object.fromEntries(
  spells.map(spell => [
    spell.name,
    {
      level: spell.level,
      school: spell.school,
      castingTime: spell.castingTime || "1 действие",
      range: spell.range || "30 футов",
      duration: spell.duration || (spell.level === 0 ? "Мгновенная" : "Концентрация, до 1 минуты"),
      description: spell.description
    }
  ])
);
