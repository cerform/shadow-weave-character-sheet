import { CharacterSpell } from '@/types/character';

// Массив заклинаний
export const spells: CharacterSpell[] = [
  {
    name: "Волшебная рука",
    level: 0,
    school: "Призывание",
    castingTime: "1 действие",
    range: "9 метров",
    components: "В, С",
    duration: "1 минута (концентрация)",
    description: "Вы создаёте призрачную, парящую руку в пределах дистанции. Рука существует на протяжении действия заклинания или пока вы не сконцентрируетесь на поддержании заклинания (как при концентрации на заклинании). Рука имеет КБ 10 и 1 хиты. Если она опускается до 0 хитов, заклинание оканчивается. \n\nВы можете действием управлять рукой. Вы можете использовать руку для выполнения любого из следующих действий:\n\n*   Рука может перемещаться на расстояние до 9 метров за ход.\n*   Вы можете использовать руку для манипулирования предметом, открытия незапертой двери или контейнера, убирания или размещения предмета из открытого контейнера, выливания содержимого флакона или использования предмета.\n*   Рука может атаковать существо в пределах 1,5 метров от неё. Вы совершаете рукопашную атаку, используя свои характеристики. При попадании цель получает дробящий урон, равный 1d8 + модификатор вашей характеристики.\n\nРука не может атаковать, активировать магические предметы или нести более 5 фунтов.",
    classes: ["Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Свет",
    level: 0,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "9 метров",
    components: "В, М (светлячок или светящийся мох)",
    duration: "1 час",
    description: "Вы касаетесь одного предмета размером не больше, чем 3 метра в любом измерении. Пока заклинание активно, предмет излучает яркий свет в радиусе 6 метров и тусклый свет в радиусе еще 6 метров. Свет может быть цветом по вашему выбору. Полностью накрыв предмет непрозрачным чем-то, например, тканью, вы блокируете свет.\n\nЗаклинание оканчивается, если вы накладываете его повторно, или отменяете его действием.\n\nЕсли вы накладываете это заклинание на предмет, который носит враждебное существо, совершите спасбросок Ловкости. При успехе заклинание не накладывается.",
    classes: ["Бард", "Жрец", "Волшебник", "Чародей"]
  },
  {
    name: "Огненный снаряд",
    level: 0,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "18 метров",
    components: "В, С",
    duration: "Мгновенно",
    description: "Вы создаёте и бросаете в существо или предмет в пределах дистанции сгусток пламени. Совершите дальнобойную атаку заклинанием. При попадании цель получает урон огнём 1d10. Огонь поджигает все горючие незакреплённые предметы, которых коснётся.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Малая иллюзия",
    level: 0,
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "9 метров",
    components: "С, М (клочок шерсти)",
    duration: "1 минута",
    description: "Вы создаёте звук или образ предмета в пределах дистанции, длящийся, пока активно заклинание. Иллюзия также оканчивается, если вы накладываете это заклинание повторно, или отменяете его действием.\n\nЕсли вы создаёте звук, его громкость может варьироваться от шёпота до крика. Это может быть ваш голос, голос другого человека или животного, шум ветра, скрежет телеги или любой другой звук на ваш выбор. Звук непрерывно воспроизводится от начала до конца, или вы можете сделать отдельные звуки с интервалами в течение действия заклинания.\n\nЕсли вы создаёте образ предмета — например, стул, следы грязи или небольшой сундук — он должен быть не больше куба со стороной 1,5 метра. Образ не может создавать звук, свет, запах или любые другие сенсорные эффекты. Физическое взаимодействие с образом покажет, что это иллюзия, так как предметы проходят сквозь неё. \n\nЕсли существо использует своё действие, чтобы изучить звук или образ, оно может преуспеть в проверке Интеллекта (Анализ) против Сл вашего заклинания, чтобы понять, что это иллюзия. Если существо распознаёт иллюзию как таковую, иллюзия становится для него невидимой.",
    classes: ["Бард", "Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Сообщение",
    level: 0,
    school: "Преобразование",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С, М (кусочек медной проволоки)",
    duration: "1 раунд",
    description: "Вы шепчете сообщение, и в пределах дистанции его слышит одно существо по вашему выбору. Цель видит, что вы шепчете, но не слышит, что именно. Заклинание передаёт звук через препятствия, в том числе стены, но не дальше полной дистанции. \n\nЦель может ответить шепотом, пока заклинание активно, и вы услышите её. ",
    classes: ["Бард", "Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Фокусы",
    level: 0,
    school: "Преобразование",
    castingTime: "1 действие",
    range: "9 метров",
    components: "В, С",
    duration: "Мгновенно",
    description: "Вы создаёте один из следующих магических эффектов в пределах дистанции:\n\n*   Вы можете создать мгновенный, безвредный сенсорный эффект, такой как ливень искр, дуновение ветра, слабые музыкальные ноты или странный запах.\n*   Вы можете мгновенно зажечь или потушить свечу, факел или небольшой костёр.\n*   Вы можете очистить или испачкать предмет размером не больше 30 сантиметров в любом измерении.\n*   Вы можете придать предметам, находящимся в пределах 3 метров от вас, незначительные иллюзорные эффекты, такие как изменение цвета, появление небольших символов или создание иллюзии, что их трясёт. \n\nВы не можете создать эффект, который может имитировать другое заклинание или наносить урон.",
    classes: ["Бард", "Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Леденящее прикосновение",
    level: 0,
    school: "Некромантия",
    castingTime: "1 действие",
    range: "1,5 метра",
    components: "В, С",
    duration: "1 раунд",
    description: "Вы создаёте призрачную руку, которая наносит цели в пределах дистанции некротический урон. Совершите рукопашную атаку заклинанием. При попадании цель получает некротический урон 1d8, и до конца вашего следующего хода она не может восстанавливать хиты. \n\nЕсли вы попадаете по нежити, она также получает помеху на броски атаки, пока заклинание активно.",
    classes: ["Волшебник"]
  },
  {
    name: "Ядовитый шип",
    level: 0,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С, М (головка чеснока)",
    duration: "Мгновенно",
    description: "Вы выпускаете шип из ядовитой энергии в одно существо в пределах дистанции. Совершите дальнобойную атаку заклинанием. При попадании цель получает урон ядом 1d4, и должна совершить спасбросок Телосложения, иначе получит урон ядом 1d4 в начале каждого хода существа. В конце хода цель может повторить спасбросок. При успехе эффект оканчивается.",
    classes: ["Друид"]
  },
  {
    name: "Танцующие огоньки",
    level: 0,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С, М (горсть трухлявых деревьев или фитиль)",
    duration: "1 минута (концентрация)",
    description: "Вы создаёте до четырёх огоньков в пределах дистанции, которые выглядят как факелы, фонари или светящиеся шары, которые парят в воздухе на ваш выбор. Огоньки излучают яркий свет в радиусе 3 метров и тусклый свет в радиусе еще 3 метров. Вы можете объединить четыре огонька в один светящийся гуманоидный силуэт среднего размера. Что бы вы ни выбрали, каждый огонёк должен находиться в пределах 9 метров от другого огонька. \n\nБонусным действием в свой ход вы можете переместить огоньки на расстояние до 18 метров в новое место. Огоньки должны оставаться в пределах дистанции действия заклинания.",
    classes: ["Бард", "Волшебник"]
  },
  {
    name: "Щит",
    level: 1,
    school: "Ограждение",
    castingTime: "Реакция, совершаемая при попадании по вам атакой или когда вы являетесь целью заклинания волшебной стрелы",
    range: "Нет",
    components: "В, С",
    duration: "1 раунд",
    description: "Вокруг вас возникает невидимый барьер магической силы и защищает вас. Пока заклинание не закончится, вы получаете бонус +5 к КБ, в том числе и от спровоцировавшей его атаки, и вы не получаете урон от заклинания волшебная стрела.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Волшебная стрела",
    level: 1,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С",
    duration: "Мгновенно",
    description: "Вы создаёте три дротика сверкающей магической энергии. Каждый дротик попадает в существо по вашему выбору, которое вы видите в пределах дистанции. Каждый дротик наносит цели урон силовым полем 1d4 + 1. Все дротики попадают одновременно, и вы можете направить их все на одну цель или на несколько.",
    classes: ["Волшебник"]
  },
  {
    name: "Обнаружение магии",
    level: 1,
    school: "Прорицание",
    castingTime: "1 действие",
    range: "Только на себя",
    components: "В, С",
    duration: "10 минут (концентрация)",
    description: "На время действия заклинания вы чувствуете присутствие магии в пределах 9 метров от вас. Если вы чувствуете магию таким образом, вы можете действием увидеть слабую ауру вокруг любого видимого существа или предмета в этом районе, несущего магию, и узнать школу магии, если таковая имеется. Заклинание может проникать сквозь большинство преград, но оно блокируется 3 метрами камня, 75 сантиметрами обычного металла, тонким листом свинца или 90 сантиметрами дерева или земли.",
    classes: ["Бард", "Жрец", "Друид", "Паладин", "Следопыт", "Волшебник", "Чародей"]
  },
  {
    name: "Понимание языков",
    level: 1,
    school: "Прорицание",
    castingTime: "1 действие",
    range: "Только на себя",
    components: "В, М (щепотка соли и капля воды)",
    duration: "1 час",
    description: "На время действия заклинания вы касаетесь одного существа и можете понимать все языки, на которых оно говорит. Кроме того, когда существо говорит на языке, вы понимаете, что оно говорит, но должны знать этот язык.",
    classes: ["Бард", "Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Невидимый слуга",
    level: 1,
    school: "Призывание",
    castingTime: "1 действие",
    range: "18 метров",
    components: "В, С, М (кусок нити и немного серебра)",
    duration: "1 час",
    description: "Вы создаёте невидимую, бесформенную, нематериальную силу, которая выполняет ваши команды, пока заклинание активно. Слуга имеет КБ 10, 1 хит и силу 2. Он не может атаковать. Невидимый слуга может выполнять простые задачи, которые может выполнить человек, например, приносить вещи, открывать незапертые двери и держать стул. Вы можете бонусным действием в свой ход мысленно отдавать ему команды, перемещаясь на расстояние до 18 метров и выполняя задачу. Слуга может поднимать не более 15 фунтов за раз. Слуга прекращает своё существование, когда заклинание заканчивается.",
    classes: ["Волшебник"]
  },
  {
    name: "Туманный шаг",
    level: 2,
    school: "Призывание",
    castingTime: "1 бонусное действие",
    range: "Только на себя",
    components: "В",
    duration: "Мгновенно",
    description: "Вы телепортируетесь на 9 метров в свободное место, которое видите.",
    classes: ["Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Палящий луч",
    level: 2,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С",
    duration: "Мгновенно",
    description: "Вы создаёте три луча огня и бросаете их в существ или предметы в пределах дистанции. Вы можете направить лучи на одну цель или на несколько. Совершите дальнобойную атаку заклинанием для каждого луча. При попадании цель получает урон огнём 2d6.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Волшебный замок",
    level: 2,
    school: "Ограждение",
    castingTime: "1 минута",
    range: "9 метров",
    components: "В, С, М (щепотка земли)",
    duration: "Пока не рассеется",
    description: "Вы касаетесь двери, ворот, сундука или другого закрытого прохода, и он запирается магией. Вы можете выбрать, чтобы он был непроницаемым для обычных атак, или чтобы его можно было открыть только с помощью заклинания рассеивания магии или аналогичного эффекта. Если вы используете этот эффект, заклинание длится до тех пор, пока не будет рассеяно. В противном случае заклинание длится 30 дней.",
    classes: ["Волшебник"]
  },
  {
    name: "Невидимость",
    level: 2,
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "Только на себя",
    components: "В, С, М (ресница, завёрнутая в камедь)",
    duration: "1 час (концентрация)",
    description: "Вы становитесь невидимым до окончания заклинания. Все, что вы несёте или носите, становится невидимым вместе с вами. Заклинание заканчивается, если вы совершаете атаку или накладываете заклинание.",
    classes: ["Бард", "Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Отражения",
    level: 2,
    school: "Иллюзия",
    castingTime: "1 действие",
    range: "Только на себя",
    components: "С",
    duration: "1 минута (концентрация)",
    description: "Вы создаёте три иллюзорных копии себя. Они движутся вместе с вами и имитируют ваши действия, сбивая с толку врагов. Существо, атакующее вас, должно сначала совершить проверку Интеллекта (Анализ) против Сл вашего заклинания. При успехе существо выбирает цель для атаки случайным образом. Если у вас есть копии, существо должно определить, какая из них является настоящей целью. Если существо использует заклинание или эффект, который поражает несколько целей одновременно, оно поражает вас и все ваши копии.",
    classes: ["Волшебник"]
  },
  {
    name: "Огненный шар",
    level: 3,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "45 метров",
    components: "В, С, М (крошечный шарик из гуано летучей мыши и серы)",
    duration: "Мгновенно",
    description: "Вы бросаете волшебный шар, который взрывается в указанной точке. Все существа в радиусе 6 метров от этой точки должны совершить спасбросок Ловкости. При провале существо получает урон огнём 8d6, а при успехе — половину этого урона. Огонь распространяется за углы. Огонь поджигает все горючие незакреплённые предметы, находящиеся в зоне поражения.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Контрзаклинание",
    level: 3,
    school: "Ограждение",
    castingTime: "Реакция, совершаемая, когда вы видите, как существо в пределах 18 метров от вас накладывает заклинание",
    range: "18 метров",
    components: "С",
    duration: "Мгновенно",
    description: "Вы пытаетесь прервать накладывание другого заклинания. Если существо накладывает заклинание 3-го уровня или ниже, его заклинание не удаётся, и оно не оказывает никакого эффекта. Если оно накладывает заклинание 4-го уровня или выше, совершите проверку характеристики, используя свою характеристику для накладывания заклинаний. Сл равна 10 + уровень заклинания существа. При успехе заклинание существа не удаётся, и оно не оказывает никакого эффекта.",
    classes: ["Волшебник", "Чародей", "Чернокнижник"]
  },
  {
    name: "Полет",
    level: 3,
    school: "Преобразование",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (перо одной из птиц)",
    duration: "10 минут (концентрация)",
    description: "Вы касаетесь желающего существа. Пока заклинание активно, цель получает скорость полёта, равную её скорости ходьбы.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Рассеивание магии",
    level: 3,
    school: "Ограждение",
    castingTime: "1 действие",
    range: "36 метров",
    components: "В, С",
    duration: "Мгновенно",
    description: "Вы выбираете один предмет, существо или магический эффект в пределах дистанции. Любое заклинание 3-го уровня или ниже на цели оканчивается. Для каждого заклинания 4-го уровня или выше на цели совершите проверку характеристики, используя свою характеристику для накладывания заклинаний. Сл равна 10 + уровень заклинания. При успехе заклинание оканчивается.",
    classes: ["Жрец", "Волшебник", "Чародей"]
  },
  {
    name: "Молния",
    level: 3,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "Только на себя",
    components: "В, С, М (кусочек меха и немного янтаря или стекла)",
    duration: "Мгновенно",
    description: "Из вашей руки вырывается луч молнии шириной 1,5 метра и длиной 30 метров. Все существа в пределах луча должны совершить спасбросок Ловкости. Существо получает урон электричеством 8d6 при провале, или половину этого урона при успехе. Молния проходит сквозь все препятствия, поджигая горючие незакреплённые предметы, которых коснётся.",
    classes: ["Волшебник", "Чародей"]
  },
  {
    name: "Изменение формы",
    level: 4,
    school: "Преобразование",
    castingTime: "1 действие",
    range: "9 метров",
    components: "В, С, М (глиняный шарик, который нужно держать на протяжении действия заклинания)",
    duration: "1 час (концентрация)",
    description: "Вы выбираете существо, которое видите в пределах дистанции. Цель должна совершить спасбросок Мудрости, иначе она превратится в животное, которое вы выберете, чей уровень опасности не превышает уровень цели. Недееспособные существа автоматически проваливают спасбросок. \n\nПревращение длится на протяжении действия заклинания, или пока цель не опустится до 0 хитов, или не умрёт. Вы можете действием окончить заклинание. \n\nПока цель превращена, применяются следующие правила:\n\n*   Статы цели заменяются статами животного, но цель сохраняет мировоззрение, личность и Интеллект, Мудрость и Харизму.\n*   Цель получает хиты, как у животного. Если цель возвращается в свою обычную форму в результате опускания хитов до 0, избыточный урон переносится на её обычную форму.\n*   Цель может совершать всё, что может животное, но не может накладывать заклинания или совершать действия, требующие рук, речи или чего-либо ещё, чего нет у животного.\n*   Снаряжение цели сливается с новой формой. Цель не может активировать, использовать, владеть или иным образом получать выгоду от какого-либо снаряжения.",
    classes: ["Волшебник"]
  },
  {
    name: "Огненный щит",
    level: 4,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (немного серы)",
    duration: "10 минут",
    description: "Вокруг существа, которого вы касаетесь, появляется мерцающий барьер. Барьер испускает тусклый свет в радиусе 3 метров и оканчивается, если заклинание рассеяно или существо умирает. \n\nВы можете выбрать, чтобы барьер испускал тёплый или холодный огонь. Каждый раз, когда существо в пределах 1,5 метров от цели попадает по ней рукопашной атакой, барьер заставляет атаковавшего совершить спасбросок Ловкости. При провале существо получает урон огнём или холодом 2d8 (на ваш выбор), или половину этого урона при успехе. \n\nКроме того, цель получает иммунитет к урону холодом, если вы выбрали тёплый огонь, или иммунитет к урону огнём, если вы выбрали холодный огонь.",
    classes: ["Волшебник"]
  },
  {
    name: "Каменная кожа",
    level: 4,
    school: "Ограждение",
    castingTime: "1 действие",
    range: "Касание",
    components: "В, С, М (щепотка гранитной крошки)",
    duration: "1 час (концентрация)",
    description: "Вы касаетесь желающего существа, чья кожа становится твёрдой, как камень. Пока заклинание активно, цель получает сопротивление дробящему, колющему и рубящему урону.",
    classes: ["Волшебник"]
  },
  {
    name: "Телепортация",
    level: 7,
    school: "Призывание",
    castingTime: "1 действие",
    range: "3 метра",
    components: "В",
    duration: "Мгновенно",
    description: "Вы и до восьми желающих существ по вашему выбору, находящихся в пределах дистанции, мгновенно телепортируетесь в место, знакомое вам, которое может находиться на любом расстоянии от вас в том же самом плане существования. Существа должны находиться в пределах 3 метров друг от друга, когда вы накладываете это заклинание.",
    classes: ["Волшебник"]
  },
   {
    name: "Слово силы: смерть",
    level: 9,
    school: "Воплощение",
    castingTime: "1 действие",
    range: "18 метров",
    components: "В",
    duration: "Мгновенно",
    description: "Вы произносите слово силы, которое может убить одно существо, которое вы видите в пределах дистанции. Если у цели 100 хитов или меньше, она умирает. В противном случае заклинание не оказывает никакого эффекта.",
    classes: ["Волшебник"]
  }
];

// Функция для получения всех имен заклинаний
export const getAllSpellNames = (): string[] => {
  return spells.map(spell => spell.name);
};

// Функция для получения деталей заклинания по имени
export const getSpellDetails = (spellName: string): CharacterSpell | undefined => {
  return spells.find(spell => spell.name === spellName);
};

// Функция для получения заклинаний по классу (вместо getSpellsForClass)
export const getSpellsByClass = (className: string): string[] => {
  return spells
    .filter(spell => spell.classes.includes(className))
    .map(spell => spell.name);
};

// Функция для получения заклинаний по уровню
export const getSpellsByLevel = (level: number): string[] => {
  return spells
    .filter(spell => spell.level === level)
    .map(spell => spell.name);
};

// Функция для получения заклинаний по школе
export const getSpellsBySchool = (school: string): string[] => {
  return spells
    .filter(spell => spell.school === school)
    .map(spell => spell.name);
};
