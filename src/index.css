@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Uncial+Antiqua&family=Inter:wght@100..900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Default Theme - Shadow/Purple */
  --background: 220 20% 14%;
  --foreground: 220 8% 96%;
  --card: 220 20% 18%;
  --card-foreground: 220 8% 96%;
  --popover: 220 20% 18%;
  --popover-foreground: 220 8% 96%;
  --primary: 265 90% 72%;
  --primary-foreground: 220 100% 100%;
  --primary-variant: 270 85% 68%;
  --secondary: 220 15% 22%;
  --secondary-foreground: 220 8% 96%;
  --muted: 220 15% 22%;
  --muted-foreground: 220 8% 70%;
  --accent: 265 85% 68%;
  --accent-foreground: 220 100% 100%;
  --destructive: 0 62% 58%;
  --destructive-foreground: 0 0% 98%;
  --border: 220 15% 26%;
  --input: 220 15% 26%;
  --ring: 265 90% 72%;
  --radius: 0.5rem;

  /* Enhanced text colors for better contrast */
  --text-primary: 220 8% 96%;
  --text-secondary: 220 8% 80%;
  --text-muted: 220 8% 70%;
  --text-contrast: 220 100% 100%;
  --text-glow-color: 265 90% 72%;
  
  /* Gradients */
  --gradient-panel: linear-gradient(135deg, hsl(var(--rpg-panel)), hsl(var(--rpg-panel-elevated)));
  --gradient-hp: linear-gradient(90deg, hsl(var(--rpg-hp)), hsl(var(--rpg-hp) / 0.8));
  --gradient-mana: linear-gradient(90deg, hsl(var(--rpg-mana)), hsl(var(--rpg-mana) / 0.8));

  /* Shadows */
  --shadow-panel: 0 4px 12px hsl(var(--background) / 0.3);
  --shadow-elevated: 0 8px 24px hsl(var(--background) / 0.4), 0 4px 8px hsl(var(--background) / 0.3);
  
  /* Glows */
  --glow-primary: 0 0 20px hsl(var(--primary) / 0.3);
  --glow-hp: 0 0 15px hsl(var(--rpg-hp) / 0.4);
  --glow-mana: 0 0 15px hsl(var(--rpg-mana) / 0.4);
  --text-glow: 0 0 10px hsl(var(--text-glow-color) / 0.8), 0 0 20px hsl(var(--text-glow-color) / 0.6);
  
  /* Ability colors */
  --str-color: 0 70% 60%;
  --dex-color: 120 70% 60%;
  --con-color: 30 70% 60%;
  --int-color: 240 70% 60%;
  --wis-color: 60 70% 60%;
  --cha-color: 300 70% 60%;

  /* RPG/MMO Enhancement Colors */
  --rpg-bg-primary: 15 15% 8%;
  --rpg-bg-secondary: 20 20% 12%;
  --rpg-panel: 25 25% 16%;
  --rpg-panel-elevated: 30 30% 20%;
  --rpg-border: 265 40% 35%;
  --rpg-border-glow: 265 80% 60%;
  --rpg-hp: 0 85% 62%;
  --rpg-mana: 220 85% 62%;
  --rpg-xp: 45 85% 62%;
  --rpg-gold: 45 100% 50%;
  --rpg-rare: 265 85% 68%;
  --rpg-epic: 280 85% 68%;
  --rpg-legendary: 25 85% 62%;

  /* Background Images */
  --bg-fantasy-1: url('/src/assets/fantasy-bg-1.jpg');
  --bg-fantasy-2: url('/src/assets/fantasy-bg-2.jpg');
  --bg-fantasy-3: url('/src/assets/fantasy-bg-3.jpg');

  /* Typography */
  --font-fantasy-title: 'Cinzel', serif;
  --font-fantasy-header: 'Cinzel', serif;
  --font-fantasy-body: 'Inter', sans-serif;
  --font-runic: 'Uncial Antiqua', cursive;
}

/* Shadow Theme - Enhanced */
[data-theme="shadow"] {
  --background: 220 20% 8%;
  --foreground: 270 8% 98%;
  --card: 220 20% 12%;
  --card-foreground: 270 8% 98%;
  --popover: 220 20% 12%;
  --popover-foreground: 270 8% 98%;
  --primary: 265 90% 72%;
  --primary-foreground: 270 100% 100%;
  --primary-variant: 280 85% 70%;
  --secondary: 220 15% 16%;
  --secondary-foreground: 270 8% 98%;
  --muted: 220 15% 16%;
  --muted-foreground: 270 8% 80%;
  --accent: 280 85% 70%;
  --accent-foreground: 270 100% 100%;
  --text-primary: 270 8% 98%;
  --text-secondary: 270 8% 85%;
  --text-muted: 270 8% 75%;
  --text-contrast: 270 100% 100%;
  --text-glow-color: 280 85% 70%;
  --rpg-border: 265 60% 45%;
  --rpg-border-glow: 265 90% 65%;
}

/* Flame Theme - Enhanced */
[data-theme="flame"] {
  --background: 20 25% 8%;
  --foreground: 25 8% 98%;
  --card: 20 25% 12%;
  --card-foreground: 25 8% 98%;
  --popover: 20 25% 12%;
  --popover-foreground: 25 8% 98%;
  --primary: 15 90% 62%;
  --primary-foreground: 25 100% 100%;
  --primary-variant: 25 85% 58%;
  --secondary: 20 20% 16%;
  --secondary-foreground: 25 8% 98%;
  --muted: 20 20% 16%;
  --muted-foreground: 25 8% 80%;
  --accent: 25 85% 58%;
  --accent-foreground: 25 100% 100%;
  --text-primary: 25 8% 98%;
  --text-secondary: 25 8% 85%;
  --text-muted: 25 8% 75%;
  --text-contrast: 25 100% 100%;
  --text-glow-color: 15 90% 62%;
  --rpg-border: 15 60% 45%;
  --rpg-border-glow: 15 90% 65%;
}

/* Emerald Theme - Enhanced */
[data-theme="emerald"] {
  --background: 120 25% 8%;
  --foreground: 120 8% 98%;
  --card: 120 25% 12%;
  --card-foreground: 120 8% 98%;
  --popover: 120 25% 12%;
  --popover-foreground: 120 8% 98%;
  --primary: 120 70% 50%;
  --primary-foreground: 120 100% 100%;
  --primary-variant: 140 65% 45%;
  --secondary: 120 20% 16%;
  --secondary-foreground: 120 8% 98%;
  --muted: 120 20% 16%;
  --muted-foreground: 120 8% 80%;
  --accent: 140 65% 45%;
  --accent-foreground: 120 100% 100%;
  --text-primary: 120 8% 98%;
  --text-secondary: 120 8% 85%;
  --text-muted: 120 8% 75%;
  --text-contrast: 120 100% 100%;
  --text-glow-color: 120 70% 50%;
  --rpg-border: 120 50% 35%;
  --rpg-border-glow: 120 80% 55%;
}

/* Frost Theme - Enhanced */
[data-theme="frost"] {
  --background: 200 30% 8%;
  --foreground: 200 8% 98%;
  --card: 200 30% 12%;
  --card-foreground: 200 8% 98%;
  --popover: 200 30% 12%;
  --popover-foreground: 200 8% 98%;
  --primary: 195 85% 65%;
  --primary-foreground: 200 100% 100%;
  --primary-variant: 180 75% 60%;
  --secondary: 200 25% 16%;
  --secondary-foreground: 200 8% 98%;
  --muted: 200 25% 16%;
  --muted-foreground: 200 8% 80%;
  --accent: 180 75% 60%;
  --accent-foreground: 200 100% 100%;
  --text-primary: 200 8% 98%;
  --text-secondary: 200 8% 85%;
  --text-muted: 200 8% 75%;
  --text-contrast: 200 100% 100%;
  --text-glow-color: 195 85% 65%;
  --rpg-border: 195 55% 40%;
  --rpg-border-glow: 195 85% 70%;
}

/* Mystic Theme - Enhanced */
[data-theme="mystic"] {
  --background: 300 25% 8%;
  --foreground: 300 8% 98%;
  --card: 300 25% 12%;
  --card-foreground: 300 8% 98%;
  --popover: 300 25% 12%;
  --popover-foreground: 300 8% 98%;
  --primary: 300 80% 65%;
  --primary-foreground: 300 100% 100%;
  --primary-variant: 320 75% 60%;
  --secondary: 300 20% 16%;
  --secondary-foreground: 300 8% 98%;
  --muted: 300 20% 16%;
  --muted-foreground: 300 8% 80%;
  --accent: 320 75% 60%;
  --accent-foreground: 300 100% 100%;
  --text-primary: 300 8% 98%;
  --text-secondary: 300 8% 85%;
  --text-muted: 300 8% 75%;
  --text-contrast: 300 100% 100%;
  --text-glow-color: 300 80% 65%;
  --rpg-border: 300 55% 40%;
  --rpg-border-glow: 300 85% 70%;
}

/* Steel Theme - Enhanced */
[data-theme="steel"] {
  --background: 210 25% 8%;
  --foreground: 210 8% 98%;
  --card: 210 25% 12%;
  --card-foreground: 210 8% 98%;
  --popover: 210 25% 12%;
  --popover-foreground: 210 8% 98%;
  --primary: 210 60% 55%;
  --primary-foreground: 210 100% 100%;
  --primary-variant: 220 55% 50%;
  --secondary: 210 20% 16%;
  --secondary-foreground: 210 8% 98%;
  --muted: 210 20% 16%;
  --muted-foreground: 210 8% 80%;
  --accent: 220 55% 50%;
  --accent-foreground: 210 100% 100%;
  --text-primary: 210 8% 98%;
  --text-secondary: 210 8% 85%;
  --text-muted: 210 8% 75%;
  --text-contrast: 210 100% 100%;
  --text-glow-color: 210 60% 55%;
  --rpg-border: 210 45% 35%;
  --rpg-border-glow: 210 75% 60%;
}

/* Bronze Theme - Enhanced */
[data-theme="bronze"] {
  --background: 30 25% 8%;
  --foreground: 30 8% 98%;
  --card: 30 25% 12%;
  --card-foreground: 30 8% 98%;
  --popover: 30 25% 12%;
  --popover-foreground: 30 8% 98%;
  --primary: 30 80% 55%;
  --primary-foreground: 30 100% 100%;
  --primary-variant: 45 75% 50%;
  --secondary: 30 20% 16%;
  --secondary-foreground: 30 8% 98%;
  --muted: 30 20% 16%;
  --muted-foreground: 30 8% 80%;
  --accent: 45 75% 50%;
  --accent-foreground: 30 100% 100%;
  --text-primary: 30 8% 98%;
  --text-secondary: 30 8% 85%;
  --text-muted: 30 8% 75%;
  --text-contrast: 30 100% 100%;
  --text-glow-color: 30 80% 55%;
  --rpg-border: 30 50% 35%;
  --rpg-border-glow: 30 80% 60%;
}

/* Dark Theme - Enhanced */
[data-theme="dark"] {
  --background: 220 20% 12%;
  --foreground: 220 8% 98%;
  --card: 220 20% 16%;
  --card-foreground: 220 8% 98%;
  --popover: 220 20% 16%;
  --popover-foreground: 220 8% 98%;
  --primary: 265 90% 72%;
  --primary-foreground: 220 100% 100%;
  --primary-variant: 265 85% 68%;
  --secondary: 220 15% 20%;
  --secondary-foreground: 220 8% 98%;
  --muted: 220 15% 20%;
  --muted-foreground: 220 8% 80%;
  --accent: 265 85% 68%;
  --accent-foreground: 220 100% 100%;
  --text-primary: 220 8% 98%;
  --text-secondary: 220 8% 85%;
  --text-muted: 220 8% 75%;
  --text-contrast: 220 100% 100%;
  --text-glow-color: 265 90% 72%;
  --rpg-border: 265 40% 35%;
  --rpg-border-glow: 265 80% 60%;
}


/* Base Layer Styles */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background;
    color: hsl(var(--text-primary));
    font-family: var(--font-fantasy-body);
    background: linear-gradient(135deg, hsl(var(--rpg-bg-primary)), hsl(var(--rpg-bg-secondary)));
    min-height: 100vh;
    position: relative;
  }
  
  h1, h2, h3, h4, h5, h6 {
    color: hsl(var(--text-contrast));
    text-shadow: var(--text-glow);
  }
  
  p, span, div {
    color: hsl(var(--text-primary));
  }
  
  .text-muted-foreground {
    color: hsl(var(--text-muted)) !important;
  }
  
  .text-foreground {
    color: hsl(var(--text-primary)) !important;
  }
  
  .text-primary {
    color: hsl(var(--primary)) !important;
    text-shadow: 0 0 10px hsl(var(--primary) / 0.5);
  }
  
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: var(--bg-fantasy-1);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.1;
    z-index: -2;
  }
  
  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, hsl(var(--background) / 0.8), hsl(var(--background) / 0.9));
    z-index: -1;
  }
}

/* Component Layer - RPG UI Components */
@layer components {
  /* Typography Classes */
  .font-fantasy-title {
    font-family: var(--font-fantasy-title);
    font-weight: 700;
  }
  
  .font-fantasy-header {
    font-family: var(--font-fantasy-header);
    font-weight: 600;
  }
  
  .font-fantasy-body {
    font-family: var(--font-fantasy-body);
  }
  
  .font-runic {
    font-family: var(--font-runic);
  }

  /* RPG Panel Styles */
  .rpg-panel {
    background: var(--gradient-panel);
    border: 1px solid hsl(var(--rpg-border));
    box-shadow: var(--shadow-panel);
    border-radius: 12px;
    backdrop-filter: blur(8px);
  }
  
  .rpg-panel-elevated {
    background: var(--gradient-panel);
    border: 1px solid hsl(var(--rpg-border-glow));
    box-shadow: var(--shadow-elevated), var(--glow-primary);
    border-radius: 16px;
    backdrop-filter: blur(12px);
  }

  /* Character Portrait */
  .character-portrait {
    @apply relative rounded-full border-4 border-primary/50 bg-gradient-to-br from-primary/20 to-accent/20;
    box-shadow: var(--glow-primary);
    transition: all 0.3s ease;
  }
  
  .character-portrait:hover {
    border-color: hsl(var(--rpg-border-glow));
    box-shadow: var(--shadow-elevated), 0 0 30px hsl(var(--rpg-border-glow) / 0.8);
    transform: scale(1.05);
  }

  /* Resource Bars */
  .resource-bar {
    @apply relative h-6 rounded-lg overflow-hidden border border-white/20;
    background: linear-gradient(90deg, rgba(0,0,0,0.6), rgba(0,0,0,0.4));
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
  }
  
  .resource-bar-fill {
    @apply h-full transition-all duration-500 ease-out;
    background: var(--gradient-hp);
    box-shadow: 0 0 10px currentColor;
  }
  
  .resource-bar-hp .resource-bar-fill {
    background: var(--gradient-hp);
    box-shadow: var(--glow-hp);
  }
  
  .resource-bar-mana .resource-bar-fill {
    background: var(--gradient-mana);
    box-shadow: var(--glow-mana);
  }

  /* Ability Score Cards */
  .ability-card {
    @apply rpg-panel p-4 text-center transition-all duration-300 cursor-pointer;
  }
  
  .ability-card:hover {
    @apply rpg-panel-elevated;
    transform: translateY(-2px);
  }
  
  .ability-card-str { border-color: hsl(var(--str-color)); }
  .ability-card-dex { border-color: hsl(var(--dex-color)); }
  .ability-card-con { border-color: hsl(var(--con-color)); }
  .ability-card-int { border-color: hsl(var(--int-color)); }
  .ability-card-wis { border-color: hsl(var(--wis-color)); }
  .ability-card-cha { border-color: hsl(var(--cha-color)); }

  /* Dice Panel */
  .dice-panel {
    @apply rpg-panel p-6;
    background: conic-gradient(from 0deg, hsl(var(--rpg-panel)), hsl(var(--rpg-panel-elevated)), hsl(var(--rpg-panel)));
  }
  
  .dice-item {
    @apply flex items-center justify-center w-12 h-12 rounded-lg border-2 border-primary/30 bg-gradient-to-br from-primary/10 to-accent/10 cursor-pointer transition-all duration-200;
    font-family: var(--font-fantasy-header);
    font-weight: 600;
  }
  
  .dice-item:hover {
    @apply border-primary/60 bg-gradient-to-br from-primary/20 to-accent/20;
    transform: scale(1.1) rotate(5deg);
    box-shadow: var(--glow-primary);
  }

  /* Enhanced Text Effects */
  .text-glow {
    color: hsl(var(--text-contrast));
    text-shadow: var(--text-glow);
  }
  
  .text-enhanced {
    color: hsl(var(--text-contrast));
    text-shadow: 0 0 5px hsl(var(--text-glow-color) / 0.8),
                 0 1px 2px rgba(0, 0, 0, 0.8);
  }
  
  .text-outline {
    color: hsl(var(--text-contrast));
    -webkit-text-stroke: 1px hsl(var(--background));
    text-shadow: 
      0 0 5px hsl(var(--text-glow-color) / 0.6),
      1px 1px 0 hsl(var(--background)),
      -1px -1px 0 hsl(var(--background)),
      1px -1px 0 hsl(var(--background)),
      -1px 1px 0 hsl(var(--background));
  }
  
  .border-glow {
    box-shadow: 0 0 15px hsl(var(--rpg-border-glow) / 0.6);
  }
  
  .magic-card {
    @apply rpg-panel transition-all duration-300;
  }
  
  .magic-card:hover {
    @apply rpg-panel-elevated;
    transform: translateY(-4px);
  }

  /* Button Styles */
  .btn-rpg {
    @apply px-6 py-3 rounded-lg border border-primary/50 bg-gradient-to-r from-primary/20 to-accent/20 text-primary-foreground font-fantasy-header font-semibold transition-all duration-300;
    box-shadow: var(--shadow-panel);
  }
  
  .btn-rpg:hover {
    @apply border-primary/80 bg-gradient-to-r from-primary/30 to-accent/30;
    box-shadow: var(--shadow-elevated), var(--glow-primary);
    transform: translateY(-2px);
  }
  
  .btn-glow {
    @apply btn-rpg;
    animation: pulse-glow 2s infinite;
  }

  /* Tabs Enhancement */
  .rpg-tabs {
    @apply rpg-panel;
  }
  
  .rpg-tab-trigger {
    @apply px-6 py-3 rounded-lg border border-transparent bg-transparent text-muted-foreground font-fantasy-header transition-all duration-300;
  }
  
  .rpg-tab-trigger[data-state="active"] {
    @apply border-primary/60 bg-gradient-to-r from-primary/20 to-accent/20 text-primary;
    box-shadow: var(--glow-primary);
  }
}

/* Utilities Layer - Animation */
@layer utilities {
  @keyframes pulse-glow {
    0%, 100% { 
      box-shadow: var(--shadow-panel); 
    }
    50% { 
      box-shadow: var(--shadow-elevated), var(--glow-primary); 
    }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
}